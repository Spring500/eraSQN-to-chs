# 词汇表

> 在本Wiki使用到的术语。
> 由于术语数量会随着Emuera的更新而增加，因此我会试着尽量记录下来。

> 译者：有些概念[原文](https://osdn.net/projects/emuera/wiki/EmuDic)解释太绕（Google翻译不给力，希望有熟悉日语的老哥帮忙翻译一下），我就会在自己理解后进行意译🤣。

+ [启动模式](#启动模式)
	+ [普通模式](#普通模式)
	+ [分析模式](#分析模式)
	+ [DEBUG模式](#DEBUG模式)
+ [窗口·对话框](#窗口对话框)
	+ [主窗口](#主窗口)
	+ [控制台](#控制台)
	+ [调试窗口](#调试窗口)
	+ [调试控制台](#调试控制台)
	+ [设定窗口](#设定窗口)
	+ [剪贴板窗口](#剪贴板窗口)
+ [函数](#函数)
	+ [命令](#命令)
	+ [函数](#函数)
	+ [事件函数](#事件函数)
	+ [预处理器](#预处理器)
	+ [属性（预处理器）](#属性预处理器)
	+ [声明（预处理器）](#声明预处理器)
	+ [可以在表达式中使用的函数](#可以在表达式中使用的函数)
	+ [式中函数](#式中函数)
	+ [内建函数](#内建函数)
	+ [用户定义函数](#用户定义函数)
	+ [\#FUNCTION(S)函数](#FUNCTIONS函数)
+ [行・文・式](#行文式)
	+ [行](#行)
	+ [文](#文)
	+ [式](#式)
	+ [数学式](#数学式)
	+ [文本式](#文本式)
+ [变量](#变量)
	+ [伪变量](#伪变量)
	+ [数组变量](#数组变量)
	+ [角色变量](#角色变量)
	+ [角色二维数组变量](#角色二维数组变量)
	+ [多维数组变量](#多维数组变量)
	+ [角色多维数组变量](#角色多维数组变量)
	+ [局部变量](#局部变量)
	+ [广域变量](#广域变量)
	+ [全局变量](#全局变量)
	+ [私有变量](#私有变量)

----------------------------------------

## 启动模式

### 普通模式

这是Emuera正常启动时的模式。

可以通过双击`EmueraXXXX.exe`进入此模式。

### 分析模式

当你通过命令行参数传入要分析的文件时，就会进入此模式。

将ERB文件拖放到`EmueraXXXX.exe`上，Emuera就会自动进入分析模式。

在分析模式下，Emuera会检查该文件的语法错误。

但是，如果ERB文件中引用了CSV文件的字段，则需要另外检查对应的CSV文件，因为目前分析模式只能分析ERB文件。（这段为意译，确实看不太懂）

从`v1738g`开始，如果在分析模式下启用“加载时显示报告”，
对于每个被分析的ERB文件，都会显示文件中包含函数的列表。

如果分析日志过多，请在配置中增加日志输出行数。

### DEBUG模式

传入命令行参数`-Debug`即可启动DEBUG模式，要了解DEBUG模式的更多信息，请参阅[这里](https://osdn.net/projects/emuera/wiki/debug)。

----------------------------------------

## 窗口·对话框

### 主窗口

通常是指Emuera引擎启动时显示的第一个窗口。

### 控制台

在主窗口中，执行输入/输出的部分。

### 调试窗口

在DEBUG模式下，显示的DEBUG窗口。

### 调试控制台

在DEBUG窗口中，执行输入/输出的部分。

### 设定窗口

从主窗口菜单栏，帮助菜单中打开的设定对话框。

### 剪贴板窗口

在主窗口中按下快捷键`Ctrl + C`或在主窗口菜单栏的文件菜单中打开的剪贴板窗口。

----------------------------------------

## 函数

### 命令

如`PRINT`和`WAIT`之类的东西。

### 函数

在ERB脚本中，以`@函数名称`声明的语句，可通过`CALL`命令调用。

在表达式可以使用的函数中，也包含此类函数。

### 事件函数

以`EVENT`开头并由引擎调用的函数。

如果定义了多个事件函数，引擎会全部予以调用。

### 预处理器

ERB文件中的某些行，这些行会在别的指令执行前就预先处理。

它们一般是指`#`开头，或由`[ ]`说包含的单词或短语组成的行。

以`#`开头的行，分为属性和定义。

被`[ ]`包括的语句，是特殊区块的表示方式。

需要更多信息，请参阅[这里](https://osdn.net/projects/emuera/wiki/exfunc#h3-.E7.89.B9.E6.AE.8A.E3.81.AA.E3.83.96.E3.83.AD.E3.83.83.E3.82.AF.E3.82.92.E8.A1.A8.E3.81.99.E8.A1.8C)。

### 属性（预处理器）

是指在函数头部以`#`开头的行，用于指定函数的类型和行为。

`#PRI`、`#LATER`、`#SINGLE`和`#ONLY`用于控制执行事件函数时的行为，`#FUNCTION`和`#FUNCTIONS`用于指定函数的类型。

### 声明（预处理器）

用于定义变量名称及类型的，以`#`开头的行。

`＃LOCALSIZE`和`＃LOCALSSIZE`用于指定`LOCAL`和`LOCALS`变量中的元素个数。

可以用`#DIM`和`#DIMS`声明变量，或用`#DEFINE`声明宏。

### 可以在表达式中使用的函数

是指在表达式中可以被直接调用的“函数”。

函数不但包括前几条提到的功能，也包括后面几条说到的内建功能。

其他编程语言一般将其称之为“函数”。

### 式中函数

可以在表达式中使用的函数的缩写。

它与其他编程语言中的匿名函数和内联函数无关。

### 内建函数

有Emuera引擎提供的，无需使用`@函数名称`声明即可使用的函数。

`ABS(x)`和`GETTIME()`之类的函数就是内置函数。

如果觉得难以理解，你可以将其理解成“可以直接在语句中使用的命令”。

### 用户定义函数

用户自己定义的函数。

在ERB文件中，以`@函数名称`声明的函数，可以通过`CALL`命令调用。

跟上面函数的概念是相同的。

### \#FUNCTION(S)函数

如果在`@函数名称`声明的后面又声明了`#FUNCTION(S)`，则这个函数既可以作为普通函数也可以作为式中函数使用。

----------------------------------------

## 行・文・式

### 行

> 译者提示
>> Emuera能识别的文件只有以下两种：
>> `UTF-8 Unicode (with BOM) text, with CRLF line terminators`
>> `Shift-JIS text, with CRLF line terminators`
>> 因此在修改ERB和CSV文件时需要特别注意文件编码。

从一个换行符到下一个换行符之间的内容成为行。

在ERB脚本中也称为物理行。

在编辑器中这称之为逻辑行。

### 文

Emuera处理的单元为上文中提到的行。

通常一行由一条或多条指令、变量、复制运算符和表达式组成。

### 式

表达式指变量、常量、式中函数、非赋值运算符以及括号的组合。

赋值运算符只能出现于赋值语句的一个运算符的位置上，而不能用作其他表达式。

### 数学式

指运算结果为数值的表达式。

如：`A + B`或`STR == 我喜欢`之类的

> `STR == 我喜欢`的意思是：用`STR`跟`我喜欢`对比，如果相同就返回`1`否则返回`0`，是布尔运算。

### 文本式

指运算结果为字符串的表达式。

如：`STR + STR:1`或`"あ" * 10`之类的

----------------------------------------

## 变量

### 伪变量

是指`RAND`和`CHARANUM`之类的关键词，但它们实际上并非真正的变量。

内部实现与函数相近。

### 数组变量

具有可变元素个数的变量。

数组变量的元素可以在`VariableSize.csv`中进行更改，通常在ERB脚本中，其数量不会增加或减少。

对于某些局部变量，可以直接在脚本中指定它的元素数量。

### 角色变量

记录角色状态的变量。

它与编程语言中的`char`类型（如C语言之类的程序语言）变量无关。

根据其特性，在使用`ADDCHARA`或`DELCHARA`时，角色变量的数量会随着角色数量增减而发生数量变化。

为了以与数组变量相同的格式指定元素，例如NO：TARGET。

eramaker的说明中，角色变量被视为数组变量之一，但Emuear Wiki是将两者分开讨论的。

### 角色二维数组变量

既是角色变量又是数组变量。

在访问时需要提供两个参数，例如`CFLAG:TARGET:2`，其中`2`是可以省略的

它也是一个角色变量，因此，第一个参数表示角色代号。

同样地，在第一个维度上，它会随着角色数量的增减而改变元素数量。

而第二个维度的元素数量则需要在`VariableSize.csv`定义，在ERB脚本中无法修改第二维度的元素数量。

当Wikiではeramakerの仕様の説明を除き、"二重配列"という用語を使用しません。

代わりに"キャラクタ変数かつ配列変数"のような呼び方をします。

### 多维数组变量

`DITEMYTPE`之类的二维数组以及`TA`之类的三维数组，在访问时需要提供三个参数，且三个参数都不可省略。

如`DA:0:1`或`TA:1:2:3`。

多维数变量的元素数量只能在`VariableSize.csv`中更改，而不能在ERB脚本中直接修改。

### 角色多维数组变量

既是角色变量又是数组变量。

访问它需要提供三个参数，而且都不能更省略。

如`CFLAG:TARGET:0:2`。

因为它也是角色变量，所以第一个参数代表的是角色编号。

同样地，它在第一个维度上的元素个数会随着角色数量的增减而改变。

第二和第三韦上得元素个数，只能通过`VariableSize.csv`修改，不能直接在ERB脚本中直接修改。

从`v1807`版本开始， 只有`CDFLAG`属于这种变量。

有关信息请参阅[CDFLAG](https://osdn.net/projects/emuera/wiki/exvar#h5-CDFLAG)。

### 局部变量

只作用与函数内部的私有变量，如`LOCAL`和`LOCALS`。

有关私有变量的信息，请参考下面[私有变量](#私有变量)的部分。

除了私有变量以外的`LOCAL`和`LOCALS`都不属于局部变量，如`LOCAL@函数名`或`LOCALS@函数名`，它们是公共静态变量，在相关的函数退出后仍然会被保留。

而且可以从函数外面进行定义和引用。

另外，如果递归地调用函数，它的值会被共享。

### 广域变量

除了`LOCAL`、`LOCALS`和私有变量以外，大多数函数都能共享广域变量的值。

广域变量也相当于其他编程语言中的全局变量的概念。

你也可以通过在`ERH`中使用`#DIM`或`#DIMS`来定义全局变量。

有关信息请参阅[头文件（ERH）](https://osdn.net/projects/emuera/wiki/ERH)。

### 全局变量

可以在脚本任意部分共享同一个值的变量，全局变量也属于广域变量。

全局变量的初始化和读写的时间点与普通变量不同。

Emuera的全局变量与其他程序语言中的全局变量的概念无关。

### 私有变量

在不同函数中，由`#DIM`和`#DIMS`定义的变量。

这些也是局部变量，它们在不同的函数中相互独立。

但是它和局部变量不同，不能通过`LOCAL@函数名`或`LOCALS@函数名`从函数外部进行分配或引用。

有关信息请参阅[用户定义变量](https://osdn.net/projects/emuera/wiki/UserVars)。
