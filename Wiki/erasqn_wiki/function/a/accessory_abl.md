# @ACCESSORY_ABL

> [\[回Wiki首页\]](/Wiki) [\[回函数列表\]](/Wiki/erasqn_wiki/function/README.md)

### 作用描述

+ 随机生成装饰品素质

### 所在文件

+ [Accessory_System.erb](/ERB/SHOP/Accessory_System.erb#L763-L915)

### 调用关系

**被调用**：

+ `@ACCESSORY_IDENTIFY`<sup>[说明文件](/Wiki/erasqn_wiki/function/a/accessory_identify.md)</sup>

**调用**：

+ 不调用其他函数

### 函数实现

#### 参数

+ 无参数

#### 返回值

+ `LOCAL`

#### 功能实现

L767-L914：

以`RAND:100`0～99作为选择支条件，选择支具体作用见下面说明

L769-L798：

当随机数小于或等于`50`时，

以随机数为判断条件，分别生成下列5项参数：<br/>条件为`IF RAND:X == 0`（X为下列各项目后面的数字）

  + 魅力值 `LOCAL = 5000` `5`

  + 精神力值 `LOCAL = 4000` `4`

  + 技巧值 `LOCAL = 3000` `3`

  + 精力值 `LOCAL = 2000` `2`

  + EP值 `LOCAL = 1000` `ELSE`

并赋值给`LOCAL`。

以`RAND:10`作为随机数来增加随机性：

  + 当随机数小于`2`时，`LOCAL += 10`

  + 当随机数小于`4`时，`LOCAL += 20`

  + 当随机数小于`6`时，`LOCAL += 30`

  + 当随机数小于`8`时，`LOCAL += 40`

  + 否则，`LOCAL += 40`

L800-L896：

当随机数小于或等于`79`时，

以`RAND:11`作为随机数来分别生成下列各项参数：

  + ☆当随机数为`0～2`时

    + ○以随机数为判断条件，分别生成下列各项参数：<br/>条件为`IF RAND:X == 0`（X为下列各项目后面的数字）

      + C强化值 `LOCAL = 10000` `5`

      + V强化值 `LOCAL = 11000` `4`

      + A强化值 `LOCAL = 12000` `3`

      + B强化值 `LOCAL = 13000` `2`

      + M强化值 `LOCAL = 14000` `ELSE`

      + 最后再在此基础上给`LOCAL`加上50

  + ☆当随机数为`3`时，则设置判定值强化：

    + ○先将`LOCAL`的值置为`21000`，然后以`RAND:10`作为随机数来设置加成

      + 当随机数大于等于`6`时，`LOCAL += 4`

      + 当随机数大于等于`8`时，`LOCAL += 7`

      + 否则，`LOCAL += 10`

  + ☆当随机数为`4`时，则设置H氛围强化：

    + ○先将`LOCAL`的值置为`20000`，然后以`RAND:10`作为随机数来设置加成

      + 当随机数大于等于`6`时，`LOCAL += 1`

      + 当随机数大于等于`8`时，`LOCAL += 2`

      + 否则，`LOCAL += 3`

  + ☆当随机数`5`时，则设置推到机率加成：

    + ○先将`LOCAL`的值置为`23000`，然后以`RAND:10`作为随机数来设置加成

      + 当随机数大于等于`6`时，`LOCAL += 10`

      + 当随机数大于等于`8`时，`LOCAL += 20`

      + 否则，`LOCAL += 30`

  + ☆当随机数`6`时，则设置受到的快感加成：

    + ○先将`LOCAL`的值置为`22000`，然后以`RAND:10`作为随机数来设置加成

      + 当随机数大于等于`6`时，`LOCAL += 10`

      + 当随机数大于等于`8`时，`LOCAL += 20`

      + 否则，`LOCAL += 50`

  + ☆当随机数`7～8`时，则设置常态发动的秘法：

    + ○以随机数为判断条件，分别设置发动的秘法：<br/>条件为`IF RAND:X == 0`（X为下列各项目后面的数字）

      + 大根术 `LOCAL = 33000`，`4`

      + 高敏术 `LOCAL = 32000`，`3`

      + 小根术 ステート異常ミニマムになる？ `LOCAL = 31000`，`2`

      + 精强术 `LOCAL = 30000`，`ELSE`

  + ☆当随机数`9`时，则设置经验值加成：

    + ○先将`LOCAL`的值置为`24000`，然后以`RAND:10`作为随机数来设置加成

      + 当随机数大于等于`6`时，`LOCAL += 20`

      + 当随机数大于等于`8`时，`LOCAL += 50`

      + 否则，`LOCAL += 100`

  + ☆否则设置STOCK增加，`LOCAL = 6000`

L898-L913：

以随机数为判断条件，分别设置与探索有关的数值：<br/>条件为`IF RAND:X == 0`（X为下列各项目后面的数字）

  + 隐密+○ `LOCAL = 50000`，`3`

  + 宝箱出现率UP `LOCAL = 51000`，`2`

  + 门扉发现率 `LOCAL = 52000`，`ELSE`

以`RAND:4`作为随机数来增加随机性：

  + 当随机数为`0`时，`LOCAL += 20`

  + 否则`LOCAL += 40`

L915：

返回`LOCAL`。
