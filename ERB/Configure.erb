@SET_CONFIGURE
LOCAL:207 = FLAG:207
LOCAL:239 = FLAG:239
CALL SET_CONFIGURE_MAIN
;コンフィグに関する設定ロード
IF FLAG:207 && FLAG:207 != LOCAL:207
	FOR LOCAL, 1, CHARANUM
		CALL SETFLAG, "陰毛と腋毛", LOCAL
	NEXT
ENDIF
IF CONFIG("３サイズ") && FLAG:239 != LOCAL:239
	;巨乳のカップの定義を変化した時
	IF GETBITS(FLAG:239, 1, 3) != GETBITS(LOCAL:239, 1, 3)
		CALL SETFLAG, "バスト測りなおし"
	ENDIF
	FOR LOCAL, 1, CHARANUM
		CALL SET_3SIZE, LOCAL
	NEXT
ENDIF


@SET_CONFIGURE_MAIN
PRINTL 
PRINTFORML 現在の設定は以下のようになっています。変更したい内容を選択してください
PRINTL 
PRINTFORML  [ 0] 調教シーン全般に深く関わる設定
PRINTFORML  [ 1] システムやイベント周りの設定
PRINTFORML  [ 2] 妊娠システムに関する設定（妊娠パッチの使用状況：\@ CONFIG("妊娠パッチ") ? ○ # －\@）
IF CONFIG("ユニコード")
	PRINTFORML  [ 3] UNICODEに関する設定…現在、サロゲートペアの使用はOFFとなっています
ELSE
	PRINTFORML  [ 3] UNICODEに関する設定…%UNI("ドラゴン")%が竜のマークに見えない場合は選択してください
ENDIF
IF CONFIG("EmueraTunes")
	PRINTFORM  [ 4] ボイス設定：
	IF FLAG:500 == 1
		PRINTFORML ロリ
	ELSEIF FLAG:500 == 2
		PRINTFORML 年増
	ELSEIF FLAG:500 == 3
		PRINTFORML 相手に応じて自動選択
	ELSE
		PRINTFORML 標準
	ENDIF
ENDIF
PRINTFORML  [10] コンフィグのセーブ
;グローバル変数の読み込み
LOADGLOBAL
SIF GLOBAL:99 > 0
	PRINTFORML  [20] コンフィグのロード（記録日:{GLOBAL:99/10000}年{(GLOBAL:99%10000)/100}月{GLOBAL:99%100}日）
PRINTFORML  [30] 名前や主人と話す際の一人称や二人称の変更

SIF CHARANUM <= 3
	SETCOLOR DEF_COLOR("灰色")
PRINTFORML  [40] 並び替え
RESETCOLOR

;たった一度の変更いろいろ
SIF GETBIT(FLAG:11, 1) == 0
	PRINTFORML  [90] 主人の外見年齢の基準値を変更する（一度だけです）
SIF GETBIT(FLAG:11, 2) == 0
	PRINTFORML  [91] 全員の乳首の詳細を変更する（一度だけです）

PRINTFORML [100] もどる

$INPUT_LOOP
INPUT

IF RESULT == 100
	RETURN 0
ELSEIF RESULT == 0
	CALL SETCONFIG, "調教全般"
ELSEIF RESULT == 1
	CALL SETCONFIG, "システム＆イベント全般"
ELSEIF RESULT == 2
	CALL SETCONFIG, "妊娠"
ELSEIF RESULT == 3
	INVERTBIT FLAG:279, 0
ELSEIF RESULT == 4 && CONFIG("EmueraTunes")
	CALL SETCONFIG, "ボイス"
ELSEIF RESULT == 10
	CALL SAVE_CONFIGURE
ELSEIF RESULT == 20 && GLOBAL:99 > 0
	CALL LOAD_CONFIGURE
ELSEIF RESULT == 30
	CALL NAME_CONVERT, 0, 0
ELSEIF RESULT == 40
	IF CHARANUM <= 3
		PRINTFORMW 並び替えるほどキャラがいません
	ELSE
		CALL CHARA_SORT
	ENDIF
ELSEIF RESULT == 90
	IF GETBIT(FLAG:11, 1) == 0
		PRINTFORML 外見年齢の仕様変更に伴い、一度だけですが主人のそれを変更できます
		IF TALENT:MASTER:男の娘
			CALL PRINT_STR, "黄色_ただし、男の娘は[ 2]や[ 3]を選んでも、男の娘である限り外見が少年です_L"
			CALL PRINT_STR, "黄色_もちろん[ 0]を選んだ際には外見が子供の男の娘の出来上がりです_L"
		ENDIF
		PRINTFORML ……どれにしますか？
		PRINTL 
		PRINTFORML  [ 0] 子供
		PRINTFORML  [ 1] \@ TALENT:MASTER:オトコ ? 少年 # 少女 \@
		PRINTFORML  [ 2] \@ TALENT:MASTER:オトコ ? 青年 # お姉さん \@
		PRINTFORML  [ 3] \@ TALENT:MASTER:オトコ ? 大人 # オトナ \@
		PRINTFORML [100] 考え直してくる

		CALL INPUT_SELECT, 4, 100

		SELECTCASE RESULT
		CASE 100
		CASEELSE
			SELECTCASE RESULT
			CASE 0
				PRINTFORMW %CALLNAME:MASTER%の外見年齢を[子供]にしました
			CASE 1
				PRINTFORMW %CALLNAME:MASTER%の外見年齢を[\@ TALENT:MASTER:オトコ ? 少年 # 少女 \@]にしました
			CASE 2
				PRINTFORMW %CALLNAME:MASTER%の外見年齢を[\@ TALENT:MASTER:オトコ ? 青年 # お姉さん \@]にしました
			CASE 3
				PRINTFORMW %CALLNAME:MASTER%の外見年齢を[\@ TALENT:MASTER:オトコ ? 大人 # オトナ \@]にしました
			ENDSELECT
			TALENT:MASTER:外見年齢 = RESULT + 1
			SETBIT FLAG:11, 1
		ENDSELECT
	ENDIF
ELSEIF RESULT == 91
	IF GETBIT(FLAG:11, 2) == 0
		PRINTFORML 乳首の詳細描写の仕様追加に伴い、一度だけですが全員のそれを変更できます
		;1ページ目を表示
		CALL RESELECT_ERECT, 0, 0
	ENDIF
ELSE
	GOTO INPUT_LOOP
ENDIF

RESTART

@CONFIG(ARGS)
#FUNCTION
SELECTCASE ARGS
CASE "ＳＨＯＰ画面非表示"
	RETURNF FLAG:2

CASE "自動購入"
	RETURNF FLAG:9

CASE "助手への指示"
	RETURNF GETBIT(FLAG:45, 0)
CASE "助手の探索能力表示"
	RETURNF GETBIT(FLAG:45, 1)
CASE "探索同行者選択中"
	RETURNF GETBIT(FLAG:45, 2)
CASE "能力表示で３サイズ閲覧"
	RETURNF FLAG:46
CASE "調教対象変更でアナライズ"
	RETURNF GETBIT(FLAG:47, 0)
CASE "触手設定"
	RETURNF FLAG:80 + FLAG:87
CASE "触手は主人"
	RETURNF FLAG:87
CASE "射精箇所の変更"
	RETURNF FLAG:91
CASE "射精後に抜かない"
	RETURNF GETBIT(FLAG:91, 1)
CASE "画面表示"
	RETURNF FLAG:98
CASE "画面表示：カラーバー"
	RETURNF GETBIT(FLAG:98, 0)
CASE "画面表示：未実行コマンドの色"
	RETURNF GETBIT(FLAG:98, 1)
CASE "画面表示：パラメータ４列"
	RETURNF GETBIT(FLAG:98, 2)
CASE "画面表示：調教コマンド４列"
	RETURNF GETBIT(FLAG:98, 3)
CASE "画面表示：バー背景無し"
	RETURNF GETBIT(FLAG:98, 4)
CASE "画面表示：バーのグラフ表示"
	RETURNF GETBIT(FLAG:98, 5)
CASE "画面表示：尿意ゲージ"
	RETURNF GETBIT(FLAG:98, 6)
CASE "画面表示：排泄欲ゲージ"
	RETURNF GETBIT(FLAG:98, 7)

CASE "着せ替え設定"
	RETURNF FLAG:200+FLAG:201+FLAG:202+FLAG:203+FLAG:204
CASE "調教終了時の服装"
	RETURNF FLAG:200
CASE "靴やグローブの表記"
	RETURNF FLAG:201
CASE "室内や屋外での靴の扱い"
	RETURNF FLAG:202
CASE "パンツを夢魔の好きにさせる"
	RETURNF FLAG:203
CASE "衣装の自動脱ぎの禁止"
	RETURNF GETBIT(FLAG:204, 0)
CASE "衣装の細かい色表示の禁止"
	RETURNF GETBIT(FLAG:204, 1)
CASE "下着が見えない服装時の表示の制限"
	RETURNF GETBIT(FLAG:204, 2)
CASE "パンツとブラを合わせる"
	RETURNF GETBIT(FLAG:204, 3)

CASE "日常"
	RETURNF FLAG:205
CASE "自動喘ぎ"
	RETURNF FLAG:206
CASE "陰毛と腋毛", "陰毛"
	RETURNF FLAG:207
CASE "腋毛"
	RETURNF GETBIT(FLAG:207, 10)
CASE "調教フィルタ"
	RETURNF FLAG:209
CASE "Ｖ調教フィルタ"
	RETURNF GETBIT(FLAG:209, 0)
CASE "Ａ調教フィルタ"
	RETURNF GETBIT(FLAG:209, 1)

CASE "実行値フィルタ"
	RETURNF GETBIT(FLAG:209, 4)
CASE "脱童貞フィルタ"
	RETURNF GETBIT(FLAG:209, 5)
CASE "脱処女フィルタ"
	RETURNF GETBIT(FLAG:209, 6)
CASE "ペニバンフィルタ"
	RETURNF GETBIT(FLAG:209, 7)

;調教フィルタ関連
CASE "愛撫系非表示"
	RETURNF GETBIT(FLAG:210, 0)
CASE "道具系非表示"
	RETURNF GETBIT(FLAG:210, 1)
CASE "Ｖセックス系非表示"
	RETURNF GETBIT(FLAG:210, 2)
CASE "Ａセックス系非表示"
	RETURNF GETBIT(FLAG:210, 3)
CASE "特殊セックス系非表示"
	RETURNF GETBIT(FLAG:210, 4)
CASE "奉仕系非表示"
	RETURNF GETBIT(FLAG:210, 5)
CASE "調教者に挿入系非表示"
	RETURNF GETBIT(FLAG:210, 6)
CASE "ＳＭ・ハード系非表示"
	RETURNF GETBIT(FLAG:210, 7)
CASE "助手系非表示"
	RETURNF GETBIT(FLAG:210, 8)
CASE "特殊系非表示"
	RETURNF GETBIT(FLAG:210, 9)
CASE "触手系非表示"
	RETURNF GETBIT(FLAG:210, 10)
CASE "アルカナ系非表示"
	RETURNF GETBIT(FLAG:210, 11)
CASE "消費アイテム系非表示"
	RETURNF GETBIT(FLAG:210, 12)
CASE "その他非表示"
	RETURNF GETBIT(FLAG:210, 13)

CASE "調教コンフィグモード"
	RETURNF GETBIT(FLAG:210, 20)
CASE "非表示コマンドの表示"
	RETURNF GETBIT(FLAG:210, 21)

CASE "項目表示フィルタ：Ｂ"
	RETURNF GETBIT(FLAG:210, 30)
CASE "項目表示フィルタ：Ｃ"
	RETURNF GETBIT(FLAG:210, 31)

CASE "調教コンフィグモード：非表示コマンドを隠す"
	SIF CONFIG("調教コンフィグモード") == 0
		RETURNF 0
	RETURNF GETBIT(FLAG:210, 40)
CASE "調教コンフィグモード：禁止コマンドを隠す"
	SIF CONFIG("調教コンフィグモード") == 0
		RETURNF 0
	RETURNF GETBIT(FLAG:210, 41)

CASE "調教コンフィグモード：全コマンド表示"
	SIF CONFIG("調教コンフィグモード") == 0
		RETURNF 0
	RETURNF GETBIT(FLAG:210, 45)

CASE "調教フィルタ経験フラグ"
	RETURNF GETBIT(FLAG:210, 60)

CASE "妊娠パッチ"
	RETURNF FLAG:211
CASE "妊娠パッチ：主人の精子のみ"
	RETURNF GETBIT(FLAG:211, 1)
CASE "妊娠パッチ：主人妊娠可能"
	RETURNF GETBIT(FLAG:211, 2)
CASE "妊娠パッチ：調教以外で妊娠可能"
	RETURNF GETBIT(FLAG:211, 3)
CASE "妊娠パッチ：娘の胸の成長あり"
	RETURNF GETBIT(FLAG:211, 4)
CASE "妊娠パッチ：スライム分裂"
	RETURNF GETBIT(FLAG:211, 5)
CASE "妊娠パッチ：受精確率表示"
	RETURNF GETBIT(FLAG:211, 6)

CASE "内部データの表示"
	RETURNF FLAG:217
CASE "助手相手でも恋慕適用"
	RETURNF FLAG:218
CASE "難易度"
	RETURNF FLAG:220
CASE "ＥＡＳＹ"
	SIF FLAG:220 == 1
		RETURNF 1
CASE "ＮＯＲＭＡＬ"
	SIF FLAG:220 == 0
		RETURNF 1
CASE "ＨＡＲＤ"
	SIF FLAG:220 == 2
		RETURNF 1
CASE "召喚事故"
	RETURNF FLAG:221
CASE "召喚事故：ユニーク"
	RETURNF GETBIT(FLAG:221, 1)
CASE "召喚事故：ふたなり"
	RETURNF GETBIT(FLAG:221, 2)
CASE "召喚事故：男の娘"
	RETURNF GETBIT(FLAG:221, 3)
CASE "ウルズグン無くても大量射精"
	RETURNF FLAG:222
CASE "恍惚状態"
	RETURNF FLAG:223
CASE "表示人数"
	RETURNF FLAG:225
CASE "対象の夢魔化"
	RETURNF GETBIT(FLAG:226, 0)
CASE "対象の夢魔化：男"
	RETURNF GETBIT(FLAG:226, 1)
CASE "対象の夢魔化：女体化"
	RETURNF GETBIT(FLAG:226, 2)
CASE "主人・助手の夢魔化"
	RETURNF GETBIT(FLAG:227, 0)
CASE "主人・助手の夢魔化：男"
	RETURNF GETBIT(FLAG:227, 1)
CASE "主人・助手の夢魔化：女体化"
	RETURNF GETBIT(FLAG:227, 2)
CASE "主人・助手の夢魔化：キャンセル可"
	RETURNF GETBIT(FLAG:227, 3)
CASE "ビデオ売却の選択"
	RETURNF FLAG:261
CASE "世代別表示"
	RETURNF FLAG:237
CASE "３サイズ"
	RETURNF FLAG:239
CASE "３サイズ：表示"
	RETURNF GETBIT(FLAG:239, 0)
CASE "巨乳補正"
	IF GETBIT(FLAG:239, 3)
		RETURNF 5
	ELSEIF GETBIT(FLAG:239, 2)
		RETURNF 2
	ELSE
		RETURNF 0
	ENDIF
CASE "巨乳補正：カップ"
	IF GETBIT(FLAG:239, 3)
		RETURNF 2
	ELSEIF GETBIT(FLAG:239, 2)
		RETURNF 1
	ELSE
		RETURNF 0
	ENDIF
CASE "３サイズ：Ｆ"
	RETURNF GETBIT(FLAG:239, 1)
CASE "３サイズ：Ｇ"
	RETURNF GETBIT(FLAG:239, 2)
CASE "３サイズ：Ｈ"
	RETURNF GETBIT(FLAG:239, 3)
CASE "相思相愛"
	RETURNF FLAG:241
CASE "相思相愛：人数制限無し"
	RETURNF GETBIT(FLAG:241, 0)
CASE "相思相愛：夜這い制限"
	RETURNF GETBIT(FLAG:241, 1)
CASE "夢魔化時の特徴変化"
	RETURNF FLAG:242
CASE "夢魔化時の特徴変化：外見のみ"
	SIF FLAG:242 == 1
		RETURNF 1
CASE "夢魔化時の特徴変化：全部"
	SIF FLAG:242 == 2
		RETURNF 1
CASE "探索ボス"
	RETURNF FLAG:245

CASE "レベルリミッター"
	RETURNF FLAG:247
CASE "レベルリミッター：－10ＬＶ"
	RETURNF GETBIT(FLAG:247, 11)
CASE "レベルリミッター：－５ＬＶ"
	RETURNF GETBIT(FLAG:247, 12)
CASE "レベルリミッター：相手に合わせる"
	RETURNF GETBIT(FLAG:247, 13)
CASE "レベルリミッター：＋５ＬＶ"
	RETURNF GETBIT(FLAG:247, 14)
CASE "レベルリミッター：＋10ＬＶ"
	RETURNF GETBIT(FLAG:247, 15)

CASE "経験表示詰め"
	RETURNF FLAG:250
CASE "恋慕と淫乱の任意獲得"
	RETURNF FLAG:251
CASE "調教相手変更不可"
	RETURNF FLAG:252
CASE "性器詳細表示"
	RETURNF GETBIT(FLAG:254, 0)
CASE "ＶＡ詳細表示：手動ＬＶＵＰ"
	RETURNF GETBIT(FLAG:254, 1)

CASE "喫茶店描写"
	SIF FLAG:258 == 0
		RETURNF 1
CASE "喫茶店"
	RETURNF FLAG:258
CASE "寝取られ"
	RETURNF FLAG:262
CASE "ペニス詳細設定"
	RETURNF FLAG:263

CASE "制限時間撤廃"
	RETURNF FLAG:265
CASE "日付固定イベント再現"
	RETURNF FLAG:266
CASE "ニプルファック"
	RETURNF FLAG:267
CASE "精液浣腸"
	RETURNF FLAG:268
CASE "ユニークキャラの多重召喚"
	RETURNF FLAG:269
CASE "夜這い朝駆け禁止"
	RETURNF FLAG:270

CASE "台詞の名前非表示"
	RETURNF FLAG:273
CASE "一晩開放のイベント全表示"
	RETURNF FLAG:274
CASE "温泉旅行での浮気"
	RETURNF FLAG:275
CASE "尿道を拡張し易く"
	RETURNF FLAG:276
CASE "ショタメイド"
	RETURNF FLAG:277
CASE "匂いの表記変更"
	RETURNF FLAG:278
CASE "ユニコード"
	RETURNF FLAG:279
CASE "セクハラ禁止"
	RETURNF FLAG:281
CASE "セクハラ許可"
	SIF FLAG:281 == 0
	RETURNF 1
CASE "蓄精"
	RETURNF FLAG:282

CASE "乳首の詳細設定"
	RETURNF FLAG:283
CASE "乳首肥大"
	RETURNF GETBIT(FLAG:283, 0)
CASE "陥没乳首"
	RETURNF GETBIT(FLAG:283, 1)
CASE "巨乳輪"
	RETURNF GETBIT(FLAG:283, 2)

CASE "地の文ＯＦＦ"
	SIF (FLAG:6 == 0 || TARGET && TCVAR:24)
		RETURNF 1
CASE "口上による地の文ＯＦＦ"
	SIF TARGET && TCVAR:24
		RETURNF 1

;以下は項目ONOFFボタン。キャラメイク中は例外的に全部表示させる
CASE "項目：搾精ランキング"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 0)
CASE "項目：助手のお仕事指示"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 1)
CASE "項目：出演作品詳細"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 2)
CASE "項目：身嗜み"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 3)
CASE "項目：服装詳細"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 4)
CASE "項目：体型"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 5)
CASE "項目：性癖"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 6)
CASE "項目：弱点"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 7)
CASE "項目：属性"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 8)
CASE "項目：宝珠"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 9)
CASE "項目：経験"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 10)
CASE "項目：異常経験"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 11)
CASE "項目：能力"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 12)
CASE "項目：刻印"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 13)
CASE "項目：素質"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 14)
CASE "項目：家族構成"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 15)
CASE "項目：相性"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 16)
CASE "項目：陰毛"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 17)
CASE "項目：アクセサリ"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 18)
CASE "項目：射精ランキング"
	SIF COND("キャラメイク中")
		RETURNF 0
	RETURNF GETBIT(FLAG:3, 19)

CASE "ボイス"
	RETURNF FLAG:500
CASE "EmueraTunes"
	RETURNF FLAG:501
ENDSELECT
RETURNF 0

@SETCONFIG, ARGS
#DIM LCOUNT
#DIM MEMO_LINECOUNT
#DIM NEXT_LINE
#DIM MEMO, 10

MEMO_LINECOUNT = LINECOUNT
PRINTL 
SELECTCASE ARGS
CASE "調教全般"
	PRINTFORML  [ 0] \@ CONFIG("射精箇所の変更") ? ○ # －\@ 射精箇所の変更
	PRINTFORML  [ 1] \@ CONFIG("ウルズグン無くても大量射精") ? ○ # －\@ ウルズグンなくても超大量射精
	PRINTFORML  [ 2] \@ CONFIG("恍惚状態") ? ○ # －\@ 恍惚状態の時には夢魔の好きにさせる
	PRINTFORML  [ 3] \@ CONFIG("着せ替え設定") ? ○ # －\@ 着せ替え設定
	PRINTFORM  [ 4] \@ CONFIG("３サイズ") ? ○ # －\@ ３サイズと身長の表示＆巨乳の上限の設定：
	SETCOLOR DEF_COLOR("暗黄色")
	IF CONFIG("３サイズ：表示")
		PRINT 表示する＆
		IF CONFIG("３サイズ：Ｈ")
			PRINTL Ｈ
		ELSEIF CONFIG("３サイズ：Ｇ")
			PRINTL Ｇ
		ELSE
			PRINTL Ｆ
		ENDIF
	ELSE
		PRINTL 表示しない
	ENDIF
	RESETCOLOR
	PRINTFORM  [ 5] \@ CONFIG("陰毛と腋毛") ? ○ # －\@ 陰毛と%TEXTS("腋")%毛の設定：
	SETCOLOR DEF_COLOR("暗黄色")
	IF CONFIG("陰毛と腋毛")
		IF GETBIT(FLAG:207, 3)
			PRINT オトナだけ生える
		ELSEIF GETBIT(FLAG:207, 2)
			PRINT お姉さんとオトナだけ生える
		ELSEIF GETBIT(FLAG:207, 1)
			PRINT 子供以外は生える
		ELSEIF GETBIT(FLAG:207, 0)
			PRINT みんな生える
		ENDIF
		PRINTFORML ＆%TEXTS("腋")%毛\@ CONFIG("腋毛") ? 有り # 無し \@
	ELSE
		PRINTL 表示しない
	ENDIF
	RESETCOLOR
	PRINTFORML  [ 6] \@ CONFIG("ペニス詳細設定") ? ○ # －\@ ペニスの詳細設定
	PRINTFORML  [ 7] \@ CONFIG("助手相手でも恋慕適用") ? ○ # －\@ %TEXTS("助手の名称")%調教中に恋慕口上を用いる
	PRINTFORML  [ 8] \@ CONFIG("寝取られ") ? ○ # －\@ 相思相愛である相手を寝取られるイベントの発生
	PRINTFORML  [ 9] \@ CONFIG("触手設定") ? ○ # －\@ 触手設定
	PRINTFORML  [10] \@ CONFIG("内部データの表示") ? ○ # －\@ カウンターの確率など、幾つかの内部データの表示
	PRINTFORML  [11] \@ CONFIG("自動喘ぎ") ? ○ # －\@ 口上の無いキャラに自動で喘ぎ声を生成する
	PRINTFORML  [12] \@ CONFIG("制限時間撤廃") ? ○ # －\@ 選択肢における制限時間の撤廃
	PRINTFORML  [13] \@ CONFIG("ニプルファック") ? ○ # －\@ ニプルファックができるようにする
	PRINTFORML  [14] \@ CONFIG("精液浣腸") ? ○ # －\@ アナルにいっぱい中出しすると浣腸の様な効果が出るようにする
	PRINTFORML  [15] \@ CONFIG("尿道を拡張し易く") ? ○ # －\@ 尿道の拡張難度を下げる
	PRINTFORM  [16] \@ CONFIG("匂いの表記変更") ? ○ # －\@ 「匂い」という単語の表記を変更する。現在は：
	CALL PRINTL_COLORTEXT, TEXTS("匂い"), DEF_COLOR("黄色")
	PRINTFORM  [17] \@ CONFIG("乳首の詳細設定") ? ○ # －\@ 乳首の詳細設定
	IF CONFIG("乳首の詳細設定")
		PRINTFORM ：
		SETCOLOR DEF_COLOR("暗黄色")
		PRINTFORM \@ CONFIG("乳首肥大") ? ○ # ×\@ 乳首肥大 
		PRINTFORM \@ CONFIG("陥没乳首") ? ○ # ×\@ 陥没乳首 
		PRINTFORM \@ CONFIG("巨乳輪") ? ○ # ×\@ 巨乳輪
		RESETCOLOR
	ENDIF
	PRINTL 
	PRINTFORML [100] 戻る
	CALL INPUT_SELECT, 18, 100
	SELECTCASE RESULT
	CASE 100
		RETURN 0
	CASE 0
		CALL SETCONFIG, "射精箇所の変更"
	CASE 1
		CALL SETCONFIG, "ウルズグン無くても大量射精"
	CASE 2
		CALL SETCONFIG, "恍惚状態"
	CASE 3
		CALL SETCONFIG, "着せ替え設定"
	CASE 4
		CALL SETCONFIG, "３サイズ"
	CASE 5
		CALL SETCONFIG, "陰毛と腋毛"
	CASE 6
		CALL SETCONFIG, "ペニス詳細設定"
	CASE 7
		CALL SETCONFIG, "助手相手でも恋慕適用"
	CASE 8
		CALL SETCONFIG, "寝取られ"
	CASE 9
		CALL SETCONFIG, "触手設定"
	CASE 10
		CALL SETCONFIG, "内部データの表示"
	CASE 11
		CALL SETCONFIG, "自動喘ぎ"
	CASE 12
		CALL SETCONFIG, "制限時間撤廃"
	CASE 13
		CALL SETCONFIG, "ニプルファック"
	CASE 14
		CALL SETCONFIG, "精液浣腸"
	CASE 15
		CALL SETCONFIG, "尿道を拡張し易く"
	CASE 16
		CALL SETCONFIG, "匂いの表記変更"
	CASE 17
		CALL SETCONFIG, "乳首の詳細設定"

	ENDSELECT
	ARGS = 調教全般
	RESTART
CASE "システム＆イベント全般"
	PRINTFORM  [ 0] \@ CONFIG("難易度") ? ○ # －\@ 現在の難易度：
	SETCOLOR DEF_COLOR("暗黄色")
	IF CONFIG("ＨＡＲＤ")
		PRINTL HARD
	ELSEIF CONFIG("ＥＡＳＹ")
		PRINTL EASY
	ELSE
		PRINTL NORMAL
	ENDIF
	RESETCOLOR
	PRINTFORML  [ 1] \@ CONFIG("恋慕と淫乱の任意獲得") ? ○ # －\@ 恋慕・淫乱の任意獲得
	PRINTFORM  [ 2] \@ CONFIG("相思相愛") ? ○ # －\@ 素質：相思相愛 の設定：
	SETCOLOR DEF_COLOR("暗黄色")
	PRINTFORM \@ CONFIG("相思相愛：人数制限無し") ? 何人とでも # 一人だけ \@
	PRINTFORML ＆\@ CONFIG("相思相愛：夜這い制限") ? 夜這い制限有り # 夜這い制限無し \@
	RESETCOLOR
	PRINTFORML  [ 3] \@ CONFIG("経験表示詰め") ? ○ # －\@ 能力の表示で、得ていない経験を表示しない
	PRINTFORM  [ 4] \@ CONFIG("性器詳細表示") ? ○ # －\@ ＶやＡなど性器の能力の詳細表示：
	SETCOLOR DEF_COLOR("暗黄色")
	IF CONFIG("性器詳細表示")
		PRINTFORML する＆ＶＡ拡張ＬＶの変化は\@ CONFIG("ＶＡ詳細表示：手動ＬＶＵＰ") ? 手動 # 自動 \@で行う
	ELSE
		PRINTFORML しない
	ENDIF
	RESETCOLOR
	PRINTFORM  [ 5] \@ CONFIG("召喚事故") ? ○ # －\@ 召喚事故：
	SETCOLOR DEF_COLOR("暗黄色")
	IF CONFIG("召喚事故")
		LOCALS = ユニーク\@ CONFIG("召喚事故：ユニーク") ? ○ # × \@
		LOCALS = %LOCALS% ふたなり\@ CONFIG("召喚事故：ふたなり") ? ○ # × \@
		LOCALS = %LOCALS% 男の娘\@ CONFIG("召喚事故：男の娘") ? ○ # × \@
		PRINTFORML 発生する（%LOCALS%）
	ELSE
		PRINTFORML 発生しない
	ENDIF
	RESETCOLOR
	PRINTFORM  [ 6] \@ CONFIG("対象の夢魔化") ? ○ # －\@ 調教相手の夢魔変化：
	SETCOLOR DEF_COLOR("暗黄色")
	IF CONFIG("対象の夢魔化")
		LOCALS = 男\@ CONFIG("対象の夢魔化：男") ? ○ # × \@
		LOCALS = %LOCALS% 女体化\@ CONFIG("対象の夢魔化：女体化") ? ○ # × \@
		PRINTFORML 発生する（%LOCALS%）
	ELSE
		PRINTFORML 発生しない
	ENDIF
	RESETCOLOR
	PRINTFORM  [ 7] \@ CONFIG("主人・助手の夢魔化") ? ○ # －\@ 主人・%TEXTS("助手の名称")%の夢魔化：
	SETCOLOR DEF_COLOR("暗黄色")
	IF CONFIG("主人・助手の夢魔化")
		LOCALS = 男\@ CONFIG("主人・助手の夢魔化：男") ? ○ # × \@
		LOCALS = %LOCALS% 女体化\@ CONFIG("主人・助手の夢魔化：女体化") ? ○ # × \@
		LOCALS = %LOCALS% キャンセル\@ CONFIG("主人・助手の夢魔化：キャンセル可") ? ○ # × \@
		PRINTFORML 発生する（%LOCALS%）
	ELSE
		PRINTFORML 発生しない
	ENDIF
	RESETCOLOR
	PRINTFORM  [ 8] \@ CONFIG("夢魔化時の特徴変化") ? ○ # －\@ 夢魔化時の特徴変化：
	SETCOLOR DEF_COLOR("暗黄色")
	IF CONFIG("夢魔化時の特徴変化") == 0
		PRINTL 特徴は受け継がない
	ELSEIF CONFIG("夢魔化時の特徴変化：外見のみ")
		PRINTL 外見的な特徴を受け継ぐ
	ELSEIF CONFIG("夢魔化時の特徴変化：全部")
		PRINTL 外見＆内面の特徴を受け継ぐ
	ENDIF
	RESETCOLOR
	PRINTFORM  [ 9] \@ CONFIG("表示人数") ? ○ # －\@ キャラリストの表示人数の設定：
	SETCOLOR DEF_COLOR("暗黄色")
	PRINTFORML \@ CONFIG("表示人数") ? １Ｐ{CONFIG("表示人数"), 2}人表示 # デフォルト \@\@ CONFIG("世代別表示") ? ＆世代別 # \@
	RESETCOLOR
	PRINTFORM  [10] \@ CONFIG("日常") ? ○ # －\@ 夢魔達の日常発生頻度：
	SETCOLOR DEF_COLOR("暗黄色")
	IF FLAG:205 == 0
		PRINTL 休憩時のみ
	ELSEIF FLAG:205 == 1
		PRINTL 時間経過時常に
	ELSEIF FLAG:205 == 2
		PRINTL 発生しない
	ENDIF
	RESETCOLOR
	PRINTFORML  [11] \@ CONFIG("自動購入") ? ○ # －\@ 消耗品のオート購入
	PRINTFORML  [12] \@ CONFIG("探索ボス") ? ○ # －\@ 探索コマンドで、召喚済みのボスキャラともエンカウントする
	PRINTFORML  [13] \@ CONFIG("ビデオ売却の選択") ? ○ # －\@ ビデオ売却の選択
	PRINTFORML  [14] \@ CONFIG("日付固定イベント再現") ? ○ # －\@ 現実の日付固定イベントをゲーム内の特定の日付でも再現する
	PRINTFORML  [15] \@ CONFIG("ユニークキャラの多重召喚") ? ○ # －\@ ユニークキャラの多重召喚
	PRINTFORML  [16] \@ CONFIG("夜這い朝駆け禁止") ? ○ # －\@ 夜這いと朝奉仕を禁止する
	PRINTFORML  [17] \@ CONFIG("台詞の名前非表示") ? ○ # －\@ 調教外イベントの台詞に添えられる名前を表示しない
	PRINTFORML  [18] \@ CONFIG("一晩開放のイベント全表示") ? ○ # －\@ 一晩開放イベントを全キャラ分表示させる
	PRINTFORML  [19] \@ CONFIG("温泉旅行での浮気") ? ○ # －\@ 温泉旅行での浮気イベントの解禁
	PRINTFORML  [20] \@ CONFIG("ショタメイド") ? ○ # －\@ ショタも喫茶店で働かせる
	PRINTFORML  [21] \@ CONFIG("セクハラ禁止") ? ○ # －\@ 主人が選択肢無しでセクハラなどを働くことを禁止する
	PRINTFORML  [22] \@ CONFIG("蓄精") ? ○ # －\@ 一晩開放イベントなどで魔法瓶に精液を貯められるようにする
	PRINTFORML [100] 戻る
	CALL INPUT_SELECT, 23, 100
	SELECTCASE RESULT
	CASE 100
		RETURN 0
	CASE 0
		CALL SETCONFIG, "難易度"
	CASE 1
		CALL SETCONFIG, "恋慕と淫乱の任意獲得"
	CASE 2
		CALL SETCONFIG, "相思相愛"
	CASE 3
		CALL SETCONFIG, "経験表示詰め"
	CASE 4
		CALL SETCONFIG, "性器詳細表示"
	CASE 5
		CALL SETCONFIG, "召喚事故"
	CASE 6
		CALL SETCONFIG, "対象の夢魔化"
	CASE 7
		CALL SETCONFIG, "主人・助手の夢魔化"
	CASE 8
		CALL SETCONFIG, "夢魔化時の特徴変化"
	CASE 9
		CALL SETCONFIG, "表示人数"
	CASE 10
		CALL SETCONFIG, "日常"
	CASE 11
		CALL SETCONFIG, "自動購入"
	CASE 12
		CALL SETCONFIG, "探索ボス"
	CASE 13
		CALL SETCONFIG, "ビデオ売却の選択"
	CASE 14
		CALL SETCONFIG, "日付固定イベント再現"
	CASE 15
		CALL SETCONFIG, "ユニークキャラの多重召喚"
	CASE 16
		CALL SETCONFIG, "夜這い朝駆け禁止"
	CASE 17
		CALL SETCONFIG, "台詞の名前非表示"
	CASE 18
		CALL SETCONFIG, "一晩開放のイベント全表示"
	CASE 19
		CALL SETCONFIG, "温泉旅行での浮気"
	CASE 20
		CALL SETCONFIG, "ショタメイド"
	CASE 21
		CALL SETCONFIG, "セクハラ禁止"
	CASE 22
		CALL SETCONFIG, "蓄精"
	ENDSELECT
	ARGS = システム＆イベント全般
	RESTART
CASE "性癖"
	REDRAW 0
	PRINTL 性癖を設定します。以下から好きなだけ選んでください
	FOR LCOUNT, 0, NUM("属性")
		PRINTFORMLC 　[{LCOUNT, 2}] \@GETBIT(TALENT:MASTER:性癖, LCOUNT) ? ○ # － \@ %NAMES("属性", LCOUNT)%
		SIF LCOUNT%3 == 2
			PRINTL 
	NEXT
	PRINTL 
	;PRINTL   [99] ランダムで１～３個選ぶ
	PRINTL  [100] 戻る
	CALL INPUT_SELECT, NUM("属性"), 100
	IF RESULT == 100
		REDRAW 1
		RETURN 0
	;ELSEIF RESULT == 99
	;	TALENT:MASTER:性癖 = 0
	;	SETBIT TALENT:MASTER:性癖, RAND:NUM("属性")
	;	SIF RAND:2
	;		SETBIT TALENT:MASTER:性癖, RAND:NUM("属性")
	;	SIF RAND:2
	;		SETBIT TALENT:MASTER:性癖, RAND:NUM("属性")
	ELSEIF RESULT >= 0 && RESULT <= NUM("属性") - 1
		;IF GETBIT(TALENT:MASTER:性癖, RESULT) == 0 && NUM_BIT(TALENT:MASTER:性癖) == 3
		;	PRINTW 持てる性癖は３つまでです。どれか一つを減らしてください
		;ELSE
			INVERTBIT TALENT:MASTER:性癖, RESULT
		;ENDIF
	ENDIF
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "弱点"
	REDRAW 0
	PRINTL 弱点を設定します。以下から好きなだけ選んでください
	FOR LCOUNT, 0, NUM("弱点")
		PRINTFORMLC 　[{LCOUNT, 2}] \@GETBIT(TALENT:MASTER:弱点, LCOUNT) ? ○ # － \@ %NAMES("弱点", LCOUNT)%
		SIF LCOUNT%3 == 2
			PRINTL 
	NEXT
	PRINTL 
	PRINTL   [99] 全てを選択する
	PRINTL  [100] 戻る
	CALL INPUT_SELECT, NUM("弱点"), 99, 100
	IF RESULT == 100
		REDRAW 1
		RETURN 0
	ELSEIF RESULT == 99
		FOR LCOUNT, 0, NUM("弱点")
			SETBIT TALENT:MASTER:弱点, LCOUNT
		NEXT
	ELSEIF RESULT >= 0 && RESULT <= NUM("属性") - 1
		INVERTBIT TALENT:MASTER:弱点, RESULT
	ENDIF
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "自動購入"
	REDRAW 0
	PRINTL  ～消耗品自動購入の設定状況一覧～
	PRINTL  変更するものを選択してください
	PRINTFORML  [ 0] \@ GETBIT(FLAG:9, 0) ? ○ # － \@ ビデオテープ
	PRINTFORML  [ 1] \@ GETBIT(FLAG:9, 1) ? ○ # － \@ ローション
	PRINTFORML  [ 2] \@ GETBIT(FLAG:9, 2) ? ○ # － \@ 媚薬
	PRINTFORML  [ 3] \@ GETBIT(FLAG:9, 3) ? ○ # － \@ 利尿剤
	PRINTFORML  [ 4] \@ GETBIT(FLAG:9, 4) ? ○ # － \@ 鎮静剤
	SIF CONFIG("妊娠パッチ")
		PRINTFORML  [ 5] \@ GETBIT(FLAG:9, 5) ? ○ # － \@ 排卵誘発剤
	PRINTFORML  [ 6] \@ GETBIT(FLAG:9, 6) ? ○ # － \@ ジャスミン
	PRINTFORML  [ 7] \@ GETBIT(FLAG:9, 7) ? ○ # － \@ ラヴェンダー
	PRINTFORML  [ 8] \@ GETBIT(FLAG:9, 8) ? ○ # － \@ ムスク
	PRINTFORML  [ 9] \@ GETBIT(FLAG:9, 9) ? ○ # － \@ サンダルウッド
	PRINTFORML  [10] \@ GETBIT(FLAG:9, 10) ? ○ # － \@ ローズマリー
	PRINTFORML  [11] \@ GETBIT(FLAG:9, 11) ? ○ # － \@ 入浴剤
	PRINTFORML  [12] \@ GETBIT(FLAG:9, 12) ? ○ # － \@ 筋弛緩剤
	PRINTFORML [100] この設定で良い

	CALL INPUT_SELECT, 13, 100
	IF RESULT == 100
		REDRAW 1
		RETURN 0
	ELSEIF RESULT == 5 && CONFIG("妊娠パッチ") == 0
	ELSEIF RESULT >= 0 && RESULT <= 12
		INVERTBIT FLAG:9, RESULT
	ENDIF
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "射精箇所の変更"
	PRINTFORML 　～射精時に自動選択する射精箇所一覧～
	PRINTFORML 　変更するものを選択してください
	PRINTFORML [ 0] 口や胸で射精させる調教：　　　　　%TEXTS("射精箇所の表示", 92)%
	PRINTFORML [ 1] 手で射精させる調教：　　　　　　　%TEXTS("射精箇所の表示", 93)%
	PRINTFORML [ 2] 膣で射精させる調教：　　　　　　　%TEXTS("射精箇所の表示", 94)%
	PRINTFORML [ 3] アナルで射精させる調教：　　　　　%TEXTS("射精箇所の表示", 95)%
	PRINTFORML [ 4] 脚や素股など身体で射精させる調教：%TEXTS("射精箇所の表示", 96)%
	PRINTFORML [ 7] 射精箇所を全て"そのまま射精"にする
	PRINTFORML [ 8] 射精後のインサート解除頻度：　　　　\@ GETBIT(FLAG:91, 1) ? 抜かない # たまに抜く \@
	PRINTFORML [ 9] この設定で良い

	CALL ONEINPUT_SELECT, 5, 7, 8, 9

	SELECTCASE RESULT
	CASE 9
		IF ALLSAMES(20, FLAG:92, FLAG:93, FLAG:94, FLAG:95, FLAG:96)
			CLEARBIT FLAG:91, 0
			PRINTW 常にそのまま射精することにしました
		ELSE
			SETBIT FLAG:91, 0
		ENDIF
		RETURN 1
	CASE 7
		FOR LCOUNT, 92, 97
			FLAG:LCOUNT = 20
		NEXT
	CASE 8
		INVERTBIT FLAG:91, 1
	CASE 0 TO 4
		LOCAL = RESULT + 92
		PRINTL 射精時に自動で選択する射精箇所を選択してください
		PRINTL [ 0] その都度選択
		PRINTL [ 1] 髪
		PRINTL [ 2] 顔
		PRINTL [ 3] 口
		PRINTL [ 4] 胸
		PRINTL [ 5] 股間
		PRINTL [ 6] お腹やお尻
		PRINTL [20] そのまま射精
		PRINTL [30] ランダム
		PRINTL [40] 余裕があったら選択
		IF ITEM:魔法瓶
			PRINTL [90] 魔法瓶に精液を貯める
			CALL INPUT_SELECT, 7, 20, 30, 40, 90
		ELSE
			CALL INPUT_SELECT, 7, 20, 30, 40
		ENDIF
		IF RESULT == 0
			PRINTW ―射精の度に選択するように設定しました―
			FLAG:LOCAL = 0
		ELSEIF RESULT == 1
			PRINTW ―射精先を髪に固定しました―
			FLAG:LOCAL = 1
		ELSEIF RESULT == 2
			PRINTW ―射精先を顔に固定しました―
			FLAG:LOCAL = 2
		ELSEIF RESULT == 3
			PRINTW ―射精先を口に固定しました―
			FLAG:LOCAL = 3
		ELSEIF RESULT == 4
			PRINTW ―射精先を胸に固定しました―
			FLAG:LOCAL = 4
		ELSEIF RESULT == 5
			PRINTW ―射精先を股間に固定しました―
			FLAG:LOCAL = 5
		ELSEIF RESULT == 6
			PRINTW ―射精先をお腹やお尻に固定しました―
			FLAG:LOCAL = 6
		ELSEIF RESULT == 20
			PRINTW ―そのまま出すことにしました―
			FLAG:LOCAL = 20
		ELSEIF RESULT == 30
			PRINTW ―射精先をランダムにしました―
			FLAG:LOCAL = 30
		ELSEIF RESULT == 40
			PRINTW ―余裕がある時は選択するように設定しました―
			FLAG:LOCAL = 40
		ELSEIF RESULT == 90 && ITEM:魔法瓶
			PRINTW ―魔法瓶に貯めるように設定しました―
			FLAG:LOCAL = 90
		ENDIF
	ENDSELECT
	RESTART
CASE "触手設定"
	PRINTFORML 現在の設定は以下のようになっています。変更したい内容を選択してください
	PRINTL 
	PRINTFORM  [ 0] 触手挿入　　　　　　　　　　　　　　
	IF GETBIT(FLAG:80, 0)
		PRINTL 抜く
	ELSEIF GETBIT(FLAG:80, 1)
		PRINTL ランダム
	ELSE
		PRINTL 挿入れっ放し
	ENDIF
	PRINTFORM  [ 1] アナル触手　　　　　　　　　　　　　
	IF GETBIT(FLAG:80, 2)
		PRINTL 抜く
	ELSEIF GETBIT(FLAG:80, 3)
		PRINTL ランダム
	ELSE
		PRINTL 挿入れっ放し
	ENDIF
	PRINTFORM  [ 2] 触手クリ責め　　　　　　　　　　　　
	IF GETBIT(FLAG:80, 4)
		PRINTL 責め続けない
	ELSEIF GETBIT(FLAG:80, 5)
		PRINTL ランダム
	ELSE
		PRINTL 責め続ける
	ENDIF
	PRINTFORM  [ 3] 触手乳首責め　　　　　　　　　　　　
	IF GETBIT(FLAG:80, 6)
		PRINTL 責め続けない
	ELSEIF GETBIT(FLAG:80, 7)
		PRINTL ランダム
	ELSE
		PRINTL 責め続ける
	ENDIF
	PRINTFORM  [ 4] 触手搾乳　　　　　　　　　　　　　　
	IF GETBIT(FLAG:80, 8)
		PRINTL 責め続けない
	ELSEIF GETBIT(FLAG:80, 9)
		PRINTL ランダム
	ELSE
		PRINTL 責め続ける
	ENDIF
	PRINTFORM  [ 5] 触手ペニス責め　　　　　　　　　　　
	IF GETBIT(FLAG:80, 10)
		PRINTL 責め続けない
	ELSEIF GETBIT(FLAG:80, 11)
		PRINTL ランダム
	ELSE
		PRINTL 責め続ける
	ENDIF
	PRINTFORM  [ 6] 触手口辱　　　　　　　　　　　　　　
	IF GETBIT(FLAG:80, 12)
		PRINTL 抜く
	ELSEIF GETBIT(FLAG:80, 13)
		PRINTL ランダム
	ELSE
		PRINTL 挿入れっ放し
	ENDIF
	PRINTFORM  [ 7] 触手召喚の触手は…　　　　　　　　　
	IF CONFIG("触手は主人")
		PRINTL あなた
	ELSE
		PRINTL 呼び出したもの
	ENDIF
	PRINTFORML [100] キャンセル

	CALL INPUT_SELECT, 8, 100

	IF RESULT == 100
		RETURN 0
	ELSEIF RESULT >= 0 && RESULT <= 6
		LOCAL = RESULT
		CLEARBIT FLAG:80, LOCAL*2
		CLEARBIT FLAG:80, LOCAL*2 + 1
		PRINTL [0] デフォルト
		PRINTL [1] ターン最後に開放する
		PRINTL [2] ランダム
		CALL INPUT_SELECT, 3
		IF RESULT == 1
			SETBIT FLAG:80, LOCAL*2
		ELSEIF RESULT == 2
			SETBIT FLAG:80, LOCAL*2 + 1
		ENDIF
	ELSEIF RESULT == 7
		PRINTFORML [0] どっかから来た異形の触手
		PRINTFORML [1] %CALLNAME:MASTER%
		CALL INPUT_SELECT, 2
		IF RESULT == 1
			PRINTW 触手に化けられるようになりました！
			FLAG:87 = 1
		ELSEIF RESULT == 0
			PRINTW 異形の触手を召喚することにしました
			FLAG:87 = 0
		ENDIF
	ENDIF
	RESTART
CASE "着せ替え設定"
	REDRAW 0
	PRINTFORML 現在の設定は以下のようになっています(○マークはデフォルトから変更した印です)
	PRINTFORML 変更したい内容を選択してください
	PRINTL 
	PRINTFORM  [ 0] \@ FLAG:200 ? ○ # － \@ %TEXT_LJ("調教終了時の服装", 30)%
	SELECTCASE FLAG:200
	CASE 0
		PRINTL 本人の服に戻す
	CASE 1
		PRINTL 終了時のまま
	CASE 2
		PRINTL 指定されたお気に入りの服を着てもらう
	CASE 3
		PRINTL お気に入りの服のどれかを着てもらう
	CASE 4
		PRINTL 薄着だったら服を着てもらう
	ENDSELECT
	PRINTFORM  [ 1] \@ FLAG:201 ? ○ # － \@ %TEXT_LJ("靴やグローブの表記", 30)%
	SELECTCASE FLAG:201
	CASE 0
		PRINTL 常に表示
	CASE 1
		PRINTL 表示しない
	CASE 2
		PRINTL ほぼハダカなら表示
	ENDSELECT
	PRINTFORM  [ 2] \@ FLAG:202 ? ○ # － \@ %TEXT_LJ("室内や屋外での靴の扱い", 30)%
	SELECTCASE FLAG:202
	CASE 0
		PRINTL 脱がない
	CASE 1
		PRINTL 室内では一度脱がせる
	ENDSELECT
	PRINTFORML  [ 3] \@ FLAG:203 ? ○ # － \@ %TEXT_LJ("パンツを夢魔の好きにさせる", 30)%
	PRINTFORML  [ 4] \@ GETBIT(FLAG:204, 0) ? ○ # － \@ %TEXT_LJ("衣装の自動脱ぎの禁止", 30)%
	PRINTFORML  [ 5] \@ GETBIT(FLAG:204, 1) ? ○ # － \@ %TEXT_LJ("衣装の細かい色表示の禁止", 30)%
	PRINTFORML  [ 6] \@ GETBIT(FLAG:204, 2) ? ○ # － \@ %TEXT_LJ("下着が見えない服装時の表示の制限", 30)%
	PRINTFORML  [ 7] \@ GETBIT(FLAG:204, 3) ? ○ # － \@ %TEXT_LJ("パンツをはいた時にブラを合わせる", 30)%

	PRINTFORML [100] 戻る

	CALL INPUT_SELECT, 8, 100

	SELECTCASE RESULT
	CASE 100
		REDRAW 1
		RETURN 0
	CASE 0
		PRINTL 　　調教終了時の服装をどうしてもらいますか？
		PRINTL [ 0] 本人の服に戻す
		PRINTL [ 1] 終了時のままでいてもらう
		PRINTL [ 2] 指定されたお気に入りの服を着せる
		PRINTL [ 3] お気に入りの服からランダムで選んで着せる
		PRINTL [ 4] 服やボディスーツを着ていなかったら本人の服にもどす
		CALL INPUT_SELECT, 5
		SELECTCASE RESULT
		CASE 2
			PRINTFORML 昼、夜の時間帯で指定してある衣装が有るならそれを。
			PRINTFORMW 無いならお気に入りの０番の衣装を着て貰うことにします。
		ENDSELECT
		FLAG:200 = RESULT
	CASE 1
		PRINTL 　　靴やグローブの表記をどうしますか？
		PRINTL [ 0] 常に表示
		PRINTL [ 1] 表示しない
		PRINTL [ 2] 靴、グローブ、ソックス以外を身につけていなければ表示
		CALL INPUT_SELECT, 3
		FLAG:201 = RESULT
	CASE 2
		PRINTL 　　室内や屋外で靴を脱いだり履かせたりさせますか？
		PRINTL [ 0] 特に指示しない
		PRINTL [ 1] 調教開始時と、野外から帰ってきた時に脱がせる
		CALL INPUT_SELECT, 2
		FLAG:202 = RESULT
	CASE 3
		INVERTBIT FLAG:203, 0
	CASE 4
		INVERTBIT FLAG:204, 0
	CASE 5
		INVERTBIT FLAG:204, 1
	CASE 6
		INVERTBIT FLAG:204, 2
	CASE 7
		INVERTBIT FLAG:204, 3
	ENDSELECT
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "日常"
	PRINTL 　　発生頻度をどう設定しますか？
	PRINTL [0] 休憩時のみ
	PRINTL [1] 時間経過時常に
	PRINTL [2] 発生しない
	CALL INPUT_SELECT, 3
	FLAG:205 = RESULT
	SELECTCASE FLAG:205
	CASE 0
		PRINTW 休憩時のみに設定します
	CASE 1
		PRINTW 時間経過時常に発生するよう設定します
	CASE 2
		PRINTW 発生しないように設定します
	ENDSELECT
CASE "自動喘ぎ"
	INVERTBIT FLAG:206, 0
	IF FLAG:206
		PRINTW オート喘ぎエンジンを適用する設定にします
	ELSE
		PRINTW 口上が用意されていない場合には喋りません
	ENDIF
CASE "陰毛と腋毛"
	REDRAW 0
	PRINTFORML 陰毛と%TEXTS("腋")%毛の設定をします
	PRINTFORML どの外見年齢から生えるようにするのか指定してください
	PRINTFORML ただし、%TEXTS("腋")%毛については陰毛が生えるキャラ限定とします
	PRINTFORML （注：OFFにすると、全ての陰毛＆%TEXTS("腋")%毛フラグが初期化されます！）
	PRINTFORM  陰毛の設定：
	SETCOLOR DEF_COLOR("暗黄色")
	IF CONFIG("陰毛と腋毛") == 0
		PRINTL ＯＦＦ
	ELSE
		IF GETBIT(FLAG:207, 3)
			PRINT ：オトナだけ生える
		ELSEIF GETBIT(FLAG:207, 2)
			PRINT ：お姉さんとオトナだけ生える
		ELSEIF GETBIT(FLAG:207, 1)
			PRINT ：子供以外は生える
		ELSEIF GETBIT(FLAG:207, 0)
			PRINT ：みんな生える
		ENDIF
		PRINTFORML ＆%TEXTS("腋")%毛\@ CONFIG("腋毛") ? 有り # 無し \@
	ENDIF
	RESETCOLOR
	PRINTFORML  [ 0] みんな生える
	PRINTFORML  [ 1] 子供：×　少女：○　お姉さん：○　オトナ：○
	PRINTFORML  [ 2] 子供：×　少女：×　お姉さん：○　オトナ：○
	PRINTFORML  [ 3] 子供：×　少女：×　お姉さん：×　オトナ：○
	SIF CONFIG("陰毛と腋毛")
		PRINTFORML  [10] \@ CONFIG("腋毛") ? ○ # － \@ %TEXTS("腋")%毛の有無
	PRINTFORML  [99] OFF
	PRINTFORML [100] 戻る

	CALL INPUT_SELECT, 4, 10, 99, 100

	SELECTCASE RESULT
	CASE 100
		REDRAW 1
		RETURN 0
	CASE 99
		LOCAL = 0
		FOR LCOUNT, 1, CHARANUM
			SIF BASE:LCOUNT:陰毛 == 0
				CONTINUE
			LOCAL = 1
			BREAK
		NEXT
		IF LOCAL
			PRINTFORML 陰毛と%TEXTS("腋")%毛の状態を本当に初期化してもよろしいですか？
			PRINTFORML [ 0] はい
			PRINTFORML [ 1] やっぱりやめる
			CALL INPUT_SELECT, 2
			SIF RESULT == 1
				RESTART
		ENDIF
		PRINTW 陰毛と%TEXTS("腋")%毛の設定をOFFにしました
		FLAG:207 = 0
		CALL SETFLAG, "陰毛と腋毛の設定初期化"
		REDRAW 1
		RETURN 0
	CASE 0 TO 3
		CLEARBIT FLAG:207, 0
		CLEARBIT FLAG:207, 1
		CLEARBIT FLAG:207, 2
		CLEARBIT FLAG:207, 3
		SETBIT FLAG:207, RESULT
	CASE 10
		SIF CONFIG("陰毛と腋毛")
			INVERTBIT FLAG:207, 10
	ENDSELECT
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART

CASE "妊娠"
	REDRAW 0
	PRINTFORML ～妊娠パッチの設定状況一覧～
	PRINTFORML 変更したい内容を選択してください
	PRINTFORML （注意：妊娠パッチ自体をOFFにすると、妊娠に関するフラグが固定されます！）
	PRINTFORML  [ 0] \@ GETBIT(FLAG:211, 0) ? ○ # － \@ 妊娠パッチ
	PRINTFORML  [ 1] \@ GETBIT(FLAG:211, 1) ? ○ # － \@ MASTERの精子でのみ妊娠可能
	PRINTFORML  [ 2] \@ GETBIT(FLAG:211, 2) ? ○ # － \@ MASTERも妊娠可能
	PRINTFORML  [ 3] \@ GETBIT(FLAG:211, 3) ? ○ # － \@ 夜這いなど調教以外のシーンで妊娠可能
	PRINTFORML  [ 4] \@ GETBIT(FLAG:211, 4) ? ○ # － \@ 娘の胸の成長（要：胸への刺激）
	PRINTFORML  [ 5] \@ GETBIT(FLAG:211, 5) ? ○ # － \@ スライムは妊娠発覚と同時に分裂
	PRINTFORML  [ 6] \@ GETBIT(FLAG:211, 6) ? ○ # － \@ 中出し時に受精確率が増加したら表示
	PRINTFORML [100] この設定で良い

	CALL INPUT_SELECT, 7, 100

	SELECTCASE RESULT
	CASE 100
		REDRAW 1
		RETURN 1
	CASE 0
		IF FLAG:211
			FLAG:211 = 0
		ELSE
			FLAG:211 = 1
		ENDIF
	CASE 1
		INVERTBIT FLAG:211, 1
		SIF GETBIT(FLAG:211, 1)
			CLEARBIT FLAG:211, 2
	CASE 2
		INVERTBIT FLAG:211, 2
		SIF GETBIT(FLAG:211, 2)
			CLEARBIT FLAG:211, 1
	CASEELSE
		INVERTBIT FLAG:211, RESULT
	ENDSELECT
	SIF FLAG:211
		SETBIT FLAG:211, 0
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "内部データの表示"
	INVERTBIT FLAG:217, 0
	IF FLAG:217
		PRINTW 詳しい数値を表示することにします
	ELSE
		PRINTW 数値を隠すことにしました
	ENDIF
CASE "助手相手でも恋慕適用"
	INVERTBIT FLAG:218, 0
	IF FLAG:218
		PRINTFORMW %TEXTS("助手の名称")%が調教しているときにも恋慕の口上を表示させます
	ELSE
		PRINTFORMW %TEXTS("助手の名称")%が調教しているときには恋慕を失うようにします
	ENDIF
CASE "難易度"
	PRINTL 　　どの難易度に変更しますか？
	PRINTL [ 0] NORMAL
	PRINTL [ 1] EASY
	PRINTL [ 2] HARD？
	CALL INPUT_SELECT, 3
	IF RESULT == 0
		PRINTW 通常の難易度です
	ELSEIF RESULT == 1
		PRINTW 能力のLVUPと恋慕の条件は勿論、他にも色々と簡単になります
	ELSEIF RESULT == 2
		PRINTFORMW 夢魔たちの技巧など一部能力が自動的にレベルアップするようになり、他にも色々と難易度が上がります
		PRINTFORMW そのかわり、%NAME:MASTER%の精力や回復量等が上昇します
	ENDIF
	FLAG:220 = RESULT
CASE "召喚事故"
	REDRAW 0
	LOCAL = FLAG:221
	PRINTFORML 現在の設定は以下のようになっています。詳細を設定してください。
	PRINTFORML  [ 0] \@ CONFIG("召喚事故") ? ○ # － \@ 召喚事故の発生
	PRINTFORML  [ 1] \@ CONFIG("召喚事故：ユニーク") ? ○ # － \@ ユニークキャラの召喚事故
	PRINTFORML  [ 2] \@ CONFIG("召喚事故：ふたなり") ? ○ # － \@ 女性キャラのふたなり化
	PRINTFORML  [ 3] \@ CONFIG("召喚事故：男の娘") ? ○ # － \@ 女性キャラの男の娘化（ただし、外見が少女まで）
	PRINTFORML [100] これでよい
	CALL INPUT_SELECT, 4, 100
	SELECTCASE RESULT
	CASE 100
		IF CONFIG("召喚事故") == 0
			PRINTFORML 召喚事故は起きません
		ELSE
			IF CONFIG("召喚事故：ユニーク")
				PRINTFORML どのキャラでも召喚事故が発生するようになりました
				PRINTFORML ベテラン設定のキャラが処女だったりしても文句いわないでくださいね
			ELSE
				PRINTFORML ユニークキャラ以外に限り、召喚事故が発生するようになりました
			ENDIF
			LOCALS = \@ CONFIG("召喚事故：ふたなり") ? ふたなり # \@
			SIF CONFIG("召喚事故：男の娘")
				LOCALS = %LOCALS%\@ CONFIG("召喚事故：ふたなり") ? 及び # \@男の娘
			IF LOCALS != ""
				PRINTFORML また、女性キャラの%LOCALS%化が発生します
				PRINTFORML 違和感が発生しても許してください
			ENDIF
		ENDIF
		WAIT
		REDRAW 1
		RETURN 0
	CASE 0 TO 3
		INVERTBIT FLAG:221, RESULT
	ENDSELECT
	IF GETBIT(LOCAL, 0) && GETBIT(FLAG:221, 0) == 0
		FLAG:221 = 0
	ELSEIF GETBIT(LOCAL, 0) == 0 && FLAG:221
		SETBIT FLAG:221, 0
	ENDIF
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "ウルズグン無くても大量射精"
	INVERTBIT FLAG:222, 0
	IF FLAG:222
		PRINTW ウルズグン無しでもいっぱい出るようにします
	ELSE
		PRINTW ウルズグン無しではそれほどでません
	ENDIF
CASE "恍惚状態"
	PRINTL 　　恍惚状態の時には夢魔の好きにさせますか？
	PRINTL 　　（具体的には、恍惚になってしまうと、コマンドを夢魔が勝手に選びます。）
	PRINTL [0] はい
	PRINTL [1] いいえ
	CALL INPUT_SELECT, 2
	IF RESULT == 0
		PRINTW 搾られすぎに注意してください
		FLAG:223 = 1
	ELSEIF RESULT == 1
		FLAG:223 = 0
	ENDIF
CASE "表示人数"
	REDRAW 0
	PRINTFORML 以下から、好みの表示人数と世代別表示機能のON/OFFを選択してください。
	PRINTFORML 
	PRINTFORM  [ 0] \@ CONFIG("表示人数") ? ○ # － \@ 表示人数の変更
	SIF CONFIG("表示人数")
		PRINTFORM ：{CONFIG("表示人数")}人
	PRINTL 
	PRINTFORML  [ 1] \@ CONFIG("世代別表示") ? ○ # － \@ 世代別表示機能
	PRINTFORML [100] 変更終了

	CALL INPUT_SELECT, 2, 100

	SELECTCASE RESULT
	CASE 100
		REDRAW 1
		RETURN 0
	CASE 0
		PRINTL １ページにつき何人表示させますか？
		PRINTL 　 [ 0] 全員表示させる
		PRINTL [1～99] １ページにつき入力した人数表示させる
		PRINTL 　[100] もどる

		CALL INPUT_SELECT, 101

		SELECTCASE RESULT
		CASE 0
			FLAG:225 = 0
			PRINTFORMW 全員を一気に表示させます
		CASE 1 TO 99
			FLAG:225 = RESULT
			PRINTFORMW １ページにつき{FLAG:225}人づつ表示させます
		ENDSELECT
	CASE 1
		INVERTBIT FLAG:237, 0
		SIF CONFIG("世代別表示")
			PRINTW 子供だけや、親だけの表示が可能になります
	ENDSELECT
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "対象の夢魔化"
	REDRAW 0
	PRINTFORML 対象の夢魔化条件を設定します
	PRINTFORML 現在の設定は以下のようになっています。詳細を設定してください。
	PRINTFORML  [ 0] \@ CONFIG("対象の夢魔化") ? ○ # － \@ 夢魔化イベントの発生
	PRINTFORML  [ 1] \@ CONFIG("対象の夢魔化：男") ? ○ # － \@ 男キャラの夢魔化
	PRINTFORML  [ 2] \@ CONFIG("対象の夢魔化：女体化") ? ○ # － \@ 夢魔化に伴う女体化
	PRINTFORML [100] これでよい
	CALL INPUT_SELECT, 3, 100
	SELECTCASE RESULT
	CASE 100
		IF CONFIG("対象の夢魔化")
			PRINTFORMW プレイヤーが夢魔の場合に、夢魔ではない対象の体力か精力を０にさせると夢魔となります
			PRINTFORMW ※対象の夢魔化\@ CONFIG("対象の夢魔化：女体化") ? 及び女体化 # \@はキャンセルできません。　調教は計画的に
		ELSE
			PRINTFORMW 夢魔化は起こらないようにしました
		ENDIF
		REDRAW 1
		RETURN 0
	CASE 0
		INVERTBIT FLAG:226, RESULT
		SIF CONFIG("対象の夢魔化") == 0
			FLAG:226 = 0
	CASE 1
		INVERTBIT FLAG:226, RESULT
		IF CONFIG("対象の夢魔化：男")
			SETBIT FLAG:226, 0
		ELSE
			CLEARBIT FLAG:226, 2
		ENDIF
	CASE 2
		INVERTBIT FLAG:226, RESULT
		IF CONFIG("対象の夢魔化：女体化")
			SETBIT FLAG:226, 0
			SETBIT FLAG:226, 1
		ENDIF
	ENDSELECT
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "主人・助手の夢魔化"
	REDRAW 0
	PRINTFORML 主人及び%TEXTS("助手の名称")%の夢魔化条件を設定します
	PRINTFORML 現在の設定は以下のようになっています。詳細を設定してください。
	PRINTFORML  [ 0] \@ CONFIG("主人・助手の夢魔化") ? ○ # － \@ 夢魔化イベントの発生
	PRINTFORML  [ 1] \@ CONFIG("主人・助手の夢魔化：男") ? ○ # － \@ 男キャラの夢魔化
	PRINTFORML  [ 2] \@ CONFIG("主人・助手の夢魔化：女体化") ? ○ # － \@ 夢魔化に伴う女体化
	PRINTFORML  [ 3] \@ CONFIG("主人・助手の夢魔化：キャンセル可") ? ○ # － \@ 夢魔化のキャンセル可能
	PRINTFORML [100] これでよい
	CALL INPUT_SELECT, 4, 100
	SELECTCASE RESULT
	CASE 100
		IF CONFIG("主人・助手の夢魔化")
			PRINTFORMW 対象が夢魔の場合に、夢魔ではない主人や%TEXTS("助手の名称")%が精力０にされると夢魔となってしまいます
			PRINTFORM ※主人・%TEXTS("助手の名称")%の夢魔化\@ CONFIG("主人・助手の夢魔化：女体化") ? 及び女体化 # \@はキャンセル
			IF CONFIG("主人・助手の夢魔化：キャンセル可")
				PRINTW できます
			ELSE
				PRINTL できません！
				PRINTW （逆）調教は計画的に
			ENDIF
		ELSE
			PRINTFORMW 主人や%TEXTS("助手の名称")%の夢魔化は起こらないようにしました
		ENDIF
		REDRAW 1
		RETURN 0
	CASE 0
		INVERTBIT FLAG:227, RESULT
		SIF CONFIG("主人・助手の夢魔化") == 0
			FLAG:227 = 0
	CASE 1
		INVERTBIT FLAG:227, RESULT
		IF CONFIG("主人・助手の夢魔化：男")
			SETBIT FLAG:227, 0
		ELSE
			CLEARBIT FLAG:227, 2
		ENDIF
	CASE 2
		INVERTBIT FLAG:227, RESULT
		IF CONFIG("主人・助手の夢魔化：女体化")
			SETBIT FLAG:227, 0
			SETBIT FLAG:227, 1
		ENDIF
	CASE 3
		INVERTBIT FLAG:227, RESULT
		SIF CONFIG("主人・助手の夢魔化：キャンセル可")
			SETBIT FLAG:227, 0
	ENDSELECT
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "夢魔化時の特徴変化"
	PRINTL 夢魔化したときの変化を設定します
	PRINTFORML 外見特徴は一部を除き「元々が夢魔でないキャラ」のみ受け継ぎます
	PRINTL [0] 変化しない
	PRINTL [1] 外見のみ影響を受ける
	PRINTL [2] 外見に加え、性格にも影響を受ける
	CALL INPUT_SELECT, 3
	FLAG:242 = RESULT
	IF RESULT == 0
		PRINTW 夢魔化しても特徴などは変わりません
	ELSEIF RESULT == 1
		PRINTW 夢魔化すると、外見に影響を受けます
	ELSEIF RESULT == 2
		PRINTW 夢魔化すると、見た目も中身も影響を受けます
	ENDIF
CASE "ビデオ売却の選択"
	PRINTL ビデオを売却する際に選択肢を表示しますか？
	PRINTL 選択肢を表示した場合、ビデオを売却しないことを選択すると、
	PRINTL 特定の夢魔でビデオを誰かに送り付けることができます
	PRINTL [0] はい
	PRINTL [1] いいえ
	CALL INPUT_SELECT, 2
	FLAG:261 = !RESULT
	PRINTFORMW ビデオ\@ FLAG:261 ? 売却時に選択肢を表示し # は自動的に売却され \@ます。
CASE "３サイズ"
	REDRAW 0
	PRINTFORML ３サイズと身長及び巨乳の上限を設定します。
	PRINTFORML 巨乳の上限の方は３サイズ前提のコンフィグなので[ 0]がOFFだと機能しません。
	PRINTFORML 現在の設定は以下のようになっています。詳細を設定してください。
	PRINTFORML  [ 0] \@ CONFIG("３サイズ：表示") ? ○ # － \@ ３サイズと身長の表示
	SIF CONFIG("３サイズ：表示") == 0
		SETCOLOR DEF_COLOR("灰色")
	PRINTFORML  [\@ CONFIG("３サイズ：表示") ? {1, 2} # × \@] \@ CONFIG("３サイズ：Ｆ") ? ○ # － \@ Ｅ～Ｆカップが巨乳
	PRINTFORML  [\@ CONFIG("３サイズ：表示") ? {2, 2} # × \@] \@ CONFIG("３サイズ：Ｇ") ? ○ # － \@ Ｅ～Ｇカップが巨乳
	PRINTFORML  [\@ CONFIG("３サイズ：表示") ? {3, 2} # × \@] \@ CONFIG("３サイズ：Ｈ") ? ○ # － \@ Ｅ～Ｈカップが巨乳
	RESETCOLOR
	PRINTFORML [100] 戻る

	IF CONFIG("３サイズ：表示")
		CALL INPUT_SELECT, 4, 100
	ELSE
		CALL INPUT_SELECT, 1, 100
	ENDIF

	SELECTCASE RESULT
	CASE 100
		REDRAW 1
		RETURN 0
	CASE 0
		INVERTBIT FLAG:239, 0
		IF CONFIG("３サイズ：表示")
			SETBIT FLAG:239, 1
			PRINTFORML 続けて巨乳の上限の設定もどうぞ
			PRINTFORMW 初期設定はＥ～Ｆカップが巨乳です
		ELSE
			FLAG:239 = 0
		ENDIF
	CASE 1 TO 3
		FLAG:239 = 1
		SETBIT FLAG:239, RESULT
	ENDSELECT

	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "相思相愛"
	REDRAW 0
	PRINTFORML 素質：『相思相愛』の扱いを決定します。
	PRINTFORML 変更するものを選択してください：
	PRINTFORML 
	PRINTFORM  [ 0] 相思相愛となれる人数\@ITEM:誓約の指輪 >= 2 ?（変更不可！）# %BL(14)% \@　　　　　　　
	IF CONFIG("相思相愛：人数制限無し")
		PRINTFORML 愛に限りはない
	ELSE
		PRINTFORML 一人だけ
	ENDIF
	PRINTFORM  [ 1] 相思相愛となったキャラがいる時の夜這い等の扱い　
	IF CONFIG("相思相愛：夜這い制限")
		PRINTFORML 相思相愛を持ったキャラのみ
	ELSE
		PRINTFORML 今まで通り
	ENDIF
	PRINTFORML [100] 終了
	CALL INPUT_SELECT, 2, 100
	IF RESULT == 100
		REDRAW 1
		RETURN 0
	ELSEIF RESULT == 0 && ITEM:誓約の指輪 < 2
		INVERTBIT FLAG:241, 0
	ELSEIF RESULT == 1
		INVERTBIT FLAG:241, 1
	ENDIF
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "探索ボス"
	INVERTBIT FLAG:245, 0
	IF CONFIG(ARGS)
		PRINTFORMW 世界にはそっくりさんが３人居るらしいですね
	ELSE
		PRINTFORMW ドッペルゲンガーは現れないようにしました
	ENDIF
CASE "経験表示詰め"
	INVERTBIT FLAG:250, 0
	IF CONFIG(ARGS)
		PRINTFORMW 表示を詰めます
	ELSE
		PRINTFORMW 経験の表示方式を元に戻します
	ENDIF
CASE "恋慕と淫乱の任意獲得"
	INVERTBIT FLAG:251, 0
	IF CONFIG(ARGS)
		PRINTFORMW 条件を満たしている時に能力値アップ画面で獲得することとします
	ELSE
		PRINTFORMW 恋はいつでもハリケーン！
	ENDIF
CASE "性器詳細表示"
	REDRAW 0
	PRINTFORML アソコやアナルなどの拡張度や名器度の詳細表示などを設定します
	PRINTFORML 現在の設定は以下のようになっています。詳細を設定してください。
	IF GETBIT(FLAG:11, 0) == 0
		PRINTFORM （[ 1]番で手動化を選んだ際、
		CALL PRINT_COLORTEXT, "一度だけ", DEF_COLOR("黄色")
		PRINTFORML 全キャラのＶＡ拡張ＬＶの初期化が可能です）
	ENDIF
	PRINTFORML  [ 0] \@ CONFIG("性器詳細表示") ? ○ # － \@ 詳しく表示させる（各キャラの能力表示画面に現れます）
	PRINTFORML  [\@ CONFIG("性器詳細表示") ? {1, 2} # × \@] \@ CONFIG("ＶＡ詳細表示：手動ＬＶＵＰ") ? ○ # － \@ Ｖ拡張度とＡ拡張度のＬＶＵＰを手動で行う（詳細表示が前提です）
	PRINTFORML [100] 戻る

	IF CONFIG("性器詳細表示")
		CALL INPUT_SELECT, 2, 100
	ELSE
		CALL INPUT_SELECT, 1, 100
	ENDIF

	SELECTCASE RESULT
	CASE 100
		REDRAW 1
		RETURN 0
	CASE 0
		INVERTBIT FLAG:254, 0
		SIF CONFIG("性器詳細表示") == 0
			FLAG:254 = 0
	CASE 1
		INVERTBIT FLAG:254, 1
		;たった一度の初期化
		IF CONFIG("ＶＡ詳細表示：手動ＬＶＵＰ") && GETBIT(FLAG:11, 0) == 0
			PRINTFORML 全てのキャラのＶ拡張度とＡ拡張度を初期化させますか？
			PRINTFORML 本当に一度しか行えないので、良く考えて選択してください
			PRINTFORML [ 0] 初期化する
			PRINTFORML [ 1] 初期化しない
			CALL INPUT_SELECT, 2
			IF RESULT == 0
				FOR LCOUNT, 1, CHARANUM
					ABL:LCOUNT:Ｖ拡張 = 0
					ABL:LCOUNT:Ａ拡張 = 0
					CALL GET_EXABL2, LCOUNT
				NEXT
				SETBIT FLAG:11, 0
			ENDIF
		;自動ＬＶを選んだなら早速ＬＶＵＰ
		ELSEIF CONFIG("ＶＡ詳細表示：手動ＬＶＵＰ") == 0
			FOR LCOUNT, 1, CHARANUM
				ABL:LCOUNT:Ｖ拡張 = CALCF("Ｖ拡張の上限", LCOUNT)
				ABL:LCOUNT:Ａ拡張 = CALCF("Ａ拡張の上限", LCOUNT)
			NEXT
		ENDIF
	ENDSELECT

	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "喫茶店"
	INVERTBIT FLAG:258, 0
	IF CONFIG(ARGS)
		PRINTW イベントが発生しないようにします
	ELSE
		PRINTW 時間経過時常に発生するよう設定します
	ENDIF
CASE "寝取られ"
	INVERTBIT FLAG:262, 0
	IF CONFIG(ARGS)
		PRINTFORMW ドラゴンに犯させすぎると、寝取られるかもしれません
		PRINTFORMW しかし、寝取られても頑張れば奪還も出来ます
	ELSE
		PRINTFORMW 寝取られなんて起きません！
		PRINTFORMW ただし、既に起きてしまった心移りは解消されたりはしないのでご注意を…
	ENDIF
CASE "ペニス詳細設定"
	PRINTL ペニスについての詳細な設定をします
	CALL SETCONFIG, "ペニス詳細設定：汎用"
	IF FLAG:263 == 0
		PRINTFORMW ぼかしているからこそ良いものもありますよね
		RETURN 0
	ENDIF
	SIF TALENT:MASTER:ペニス == 0
		CALL SETCONFIG, "ペニス詳細設定：主人"
	;実際の数値を決定
	CALL SETFLAG, "ペニス詳細設定"
	PRINTFORMW それではお楽しみください
CASE "ペニス詳細設定：汎用"
	REDRAW 0
	PRINTFORML 以下の性質のキャラについて、傾向を設定してください
	PRINTFORML 乱数要素が入りますが、選択された傾向になる確率が高まります
	PRINTFORML ただし、息子など成熟していない体のキャラは小さめで皮を被っている傾向が高くなります
	PRINTFORML （注意：大きければ良いというものではありません！）
	FOR LCOUNT, 0, 3
		SELECTCASE LCOUNT
		CASE 0
			PRINT ふたなり：
		CASE 1
			PRINT 　オトコ：
		CASE 2
			PRINT 　男の娘：
		ENDSELECT

		LOCAL = LCOUNT * 10

		PRINTPLAINFORM 大きさ…
		SETCOLOR DEF_COLOR("暗黄色")
		IF GETBIT(FLAG:263, LOCAL + 3)
			PRINTPLAIN 馬並
		ELSEIF GETBIT(FLAG:263, LOCAL + 2)
			PRINTPLAIN 巨根
		ELSEIF GETBIT(FLAG:263, LOCAL + 1)
			PRINTPLAIN 短小
		ELSE
			PRINTPLAIN 普通
		ENDIF
		RESETCOLOR
		PRINTFORML 　[{LOCAL, 2}]普通　[{LOCAL + 1, 2}]短小　[{LOCAL + 2, 2}]巨根　[{LOCAL + 3, 2}]馬並
		PRINTFORM 　　　　　皮被り…
		SETCOLOR DEF_COLOR("暗黄色")
		IF GETBIT(FLAG:263, LOCAL + 7)
			PRINTPLAIN 真性
		ELSEIF GETBIT(FLAG:263, LOCAL + 6)
			PRINTPLAIN 仮性
		ELSE
			PRINTPLAIN 無し
		ENDIF
		RESETCOLOR
		PRINTFORML 　[{LOCAL + 5, 2}]無し　[{LOCAL + 6, 2}]仮性　[{LOCAL + 7, 2}]真性
	NEXT
	PRINTFORML  [99] やはり詳細設定は使わない事にする
	PRINTFORML [100] これで良い\@ (TALENT:MASTER:ペニス == 0 && FLAG:5) ? （続いて%NAME:MASTER%のペニスの設定に移ります）# \@
	CALL INPUT_SELECT, 101
	SELECTCASE RESULT
	CASE 100
		SETBIT FLAG:263, 0
		REDRAW 1
		RETURN 0
	CASE 99
		FLAG:263 = 0
		REDRAW 1
		RETURN 0
	CASE 0 TO 3
		FLAG:263 = CLEARBITS(FLAG:263, 1, 3)
		SETBIT FLAG:263, RESULT
	CASE 5 TO 7
		FLAG:263 = CLEARBITS(FLAG:263, 6, 7)
		SETBIT FLAG:263, RESULT
	CASE 10 TO 13
		FLAG:263 = CLEARBITS(FLAG:263, 11, 13)
		SETBIT FLAG:263, RESULT
	CASE 15 TO 17
		FLAG:263 = CLEARBITS(FLAG:263, 16, 17)
		SETBIT FLAG:263, RESULT
	CASE 20 TO 23
		FLAG:263 = CLEARBITS(FLAG:263, 21, 23)
		SETBIT FLAG:263, RESULT
	CASE 25 TO 27
		FLAG:263 = CLEARBITS(FLAG:263, 26, 27)
		SETBIT FLAG:263, RESULT
	ENDSELECT
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "ペニス詳細設定：主人"
	REDRAW 0
	TALENT:MASTER:ペニス = MAX(TALENT:MASTER:ペニス, 1)
	PRINTFORML %NAME:MASTER%のペニスの性質を決定してください
	SIF PENIS(MASTER) == 0
		PRINTFORML （現状では無いようですが、もしもあるとしたら、という仮定の下でお答えください）
	PRINTFORM 大きさ…
	SETCOLOR DEF_COLOR("暗黄色")
	IF GETBIT(TALENT:MASTER:ペニス, 3)
		PRINTPLAIN 馬並
	ELSEIF GETBIT(TALENT:MASTER:ペニス, 2)
		PRINTPLAIN 巨根
	ELSEIF GETBIT(TALENT:MASTER:ペニス, 1)
		PRINTPLAIN 短小
	ELSEIF GETBIT(TALENT:MASTER:ペニス, 0)
		PRINTPLAIN 普通
	ENDIF
	RESETCOLOR
	PRINTFORML 　[ 0]普通　[ 1]短小　[ 2]巨根　[ 3]馬並
	PRINTFORM 皮被り…
	SETCOLOR DEF_COLOR("暗黄色")
	IF GETBIT(TALENT:MASTER:ペニス, 12)
		PRINTPLAIN 真性
	ELSEIF GETBIT(TALENT:MASTER:ペニス, 11)
		PRINTPLAIN 仮性
	ELSE
		PRINTPLAIN 無し
	ENDIF
	RESETCOLOR
	PRINTFORML 　[10]無し　[11]仮性　[12]真性
	PRINTFORML [100] これで良い
	CALL INPUT_SELECT, 101
	SELECTCASE RESULT
	CASE 100
		REDRAW 1
		RETURN 0
	CASE 0 TO 3
		TALENT:MASTER:ペニス = CLEARBITS(TALENT:MASTER:ペニス, 0, 3)
		SETBIT TALENT:MASTER:ペニス, RESULT
	CASE 10 TO 12
		TALENT:MASTER:ペニス = CLEARBITS(TALENT:MASTER:ペニス, 11, 12)
		SIF RESULT > 10
			SETBIT TALENT:MASTER:ペニス, RESULT
	ENDSELECT
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "制限時間撤廃"
	INVERTBIT FLAG:265, 0
	IF CONFIG(ARGS)
		PRINTW これで押し倒し等が多い日も安心です
	ELSE
		PRINTW スリリングなのも良いですよね
	ENDIF
CASE "日付固定イベント再現"
	INVERTBIT FLAG:266, 0
	IF CONFIG(ARGS)
		PRINTL 1年が120日なので同じ日付とはいきませんがご了承ください
		PRINTW （暦は三分の一で圧縮されています）
	ELSE
		PRINTW 日付固定イベントは現実の日付のみ参照することとしました
	ENDIF
CASE "ニプルファック"
	INVERTBIT FLAG:267, 0
	IF CONFIG(ARGS)
		PRINTW おっぱいが巨乳以上の大きさの人が、スライムもしくは淫乳だとニプルファックが可能となります
	ELSE
		PRINTW 乳首には挿入可能な穴なんて開いていない。それが普通ですよね
	ENDIF
CASE "精液浣腸"
	INVERTBIT FLAG:268, 0
	IF CONFIG(ARGS)
		PRINTL 浣腸に比べると弱いですが、排泄物が溜まっている人に中出しして刺激したりし過ぎると…
		PRINTW アナルセックス等の前にはお腹の中を綺麗にしておくべきかもしれません
		SIF CONFIG("画面表示：排泄欲ゲージ") == 0
			PRINTW あわせて画面表示の排泄欲ゲージの表示もＯＮにするのがおすすめです
	ELSE
		PRINTW 精液を中出しした時の排泄促進作用を無くしました
	ENDIF
CASE "ユニークキャラの多重召喚"
	INVERTBIT FLAG:269, 0
	IF CONFIG(ARGS)
		PRINTL ユニークキャラだろうと自由に召喚可能にします。
		PRINTW おかしなことが起きるかもしれませんが…それもまた楽しいかもしれません
	ELSE
		PRINTW ユニークキャラは一人のみです
	ENDIF
CASE "夜這い朝駆け禁止"
	INVERTBIT FLAG:270, 0
	IF CONFIG(ARGS)
		PRINTL 主人の部屋に鍵を付け、壁も通り抜けることが出来ないように細工をします
		PRINTW 朝夕に襲われることはなくなりますが、欲求不満を抱える夢魔が増えるかもしれません…
	ENDIF
CASE "台詞の名前非表示"
	INVERTBIT FLAG:273, 0
	IF CONFIG(ARGS)
		PRINTW 喫茶店や一言イベントなどの発言での台詞の名前表示をやめます
	ELSE
		PRINTL 調教以外での発言で誰の台詞かを表示するように戻しました
		PRINTW ……え？ 同じ名前のキャラが居るですって？！
	ENDIF
CASE "一晩開放のイベント全表示"
	INVERTBIT FLAG:274, 0
	IF CONFIG(ARGS)
		PRINTL 深夜のつまみ食いイベントを全てのキャラについて表示するようにしました
		PRINTW キャラ数が多い場合は相当長くなります
	ELSE
		PRINTW 一晩開放のイベントを、代表一人だけ表示するようにします
	ENDIF
CASE "温泉旅行での浮気"
	INVERTBIT FLAG:275, 0
	IF CONFIG(ARGS)
		PRINTW 性欲を持て余していると、主人との旅行の最中でも男漁りを始めてしまうかもしれません
	ELSE
		PRINTW 旅行中の男漁りはしなくなります
	ENDIF
CASE "尿道を拡張し易く"
	INVERTBIT FLAG:276, 0
	IF CONFIG(ARGS)
		PRINTW かなりスムーズに尿道が拡がる様になります
	ELSE
		PRINTW なかなか拡がらない。それもまた一興
	ENDIF
CASE "ショタメイド"
	INVERTBIT FLAG:277, 0
	IF CONFIG(ARGS)
		PRINT 男の娘以外にショタ(オトコかつ外見が幼い……能力表示の属性に
		CALL PRINT_COLORTEXT, "[ショタ]", DEF_COLOR("イエロー")
		PRINTW と表示されます)を喫茶店で働けるようにしました
	ELSE
		PRINTW 喫茶店で働けるオトコを男の娘のみにします
	ENDIF
CASE "匂いの表記変更"
	IF FLAG:278 < 100
		PRINTFORML 文章に登場する「匂い」という単語の表記の一部を、あなた好みに変更することができます
		PRINTFORM 具体的には、
		CALL PRINTL_COLORTEXT, "一般には良いとも不快とも断定しづらいがクセになるようなにおい", DEF_COLOR("黄色")
		CALL PRINT_COLORTEXT, "……例えば、好きな相手の性臭や体臭です、", DEF_COLOR("黄色")
		PRINTFORML の表記を選んでいただきます
		PRINTFORML （ただし、髪の匂い、料理の匂いなどの一般に良い香りのものは「匂い」で固定、
		PRINTFORMW 　頭皮の臭い、排泄物の臭いなどの一般に良くない香りの物は「臭い」で固定します）
		PRINTFORML 
	ENDIF
	PRINTFORML それでは以下から選択してください
	PRINTL 
	PRINTFORML [ 0] 匂い
	PRINTFORML [ 1] 臭い
	PRINTFORML [ 2] におい
	PRINTFORML [ 3] ニオイ

	CALL INPUT_SELECT, 4

	FLAG:278 = RESULT

	PRINTFORMW %TEXTS("匂い")%を選択しました。以下が例文です
	PRINTL 
	PRINTFORMW パンツ越しのアソコの%TEXTS("匂い")%……
	PRINTFORMW じっとりと滲んだ汗の%TEXTS("匂い")%……
	PRINTFORMW 火照った身体から漂うエッチな%TEXTS("匂い")%……
	PRINTFORMW 膣口をきゅっと締めたり、ぽかぁと開いたりさせて胎内の%TEXTS("匂い")%を漂わせる……
	PRINTFORMW 鼻先に突き付けられたペニスの%TEXTS("匂い")%……
	PRINTFORMW 汗混じりの淫靡な%TEXTS("匂い")%……
	PRINTFORMW 着古したあなたのシャツの%TEXTS("匂い")%……
	PRINTL 
	PRINTFORML ……%TEXTS("匂い")%でいいですか？
	PRINTFORML [ 0] はい
	PRINTFORML [ 1] 考え直す

	CALL INPUT_SELECT, 2

	IF RESULT == 0
		PRINTFORMW それではお楽しみください
	ELSE
		FLAG:278 = 100
		RESTART
	ENDIF
CASE "セクハラ禁止"
	INVERTBIT FLAG:281, 0
	IF CONFIG(ARGS)
		PRINTFORML 選択肢無しでのセクハラを控えるようにしました…が漏れもあるのでご容赦を
		PRINTFORMW （基本的には発生イベントの単純減少となります）
	ELSE
		PRINTFORMW %CALLNAME:MASTER%が選択肢無しで手癖の悪い事をするように戻します
	ENDIF
CASE "蓄精"
	INVERTBIT FLAG:282, 0
	IF CONFIG(ARGS)
		PRINTFORMW 一晩開放などの一部イベントで魔法瓶に精液を貯める選択肢が出るようになりました
	ELSE
		PRINTFORMW 魔法瓶に精液を貯める選択肢は調教中のみとなります
	ENDIF

CASE "乳首の詳細設定"
	REDRAW 0

	CALL PRINT_STR, "乳首の詳細…具体的には、_黄色_乳首肥大_と_黄色_陥没乳首_と_黄色_巨乳輪_の存在をON/OFFします_L"
	PRINTFORML ONにしたいものを〇に、OFFにしたいものを×にして下さい
	PRINTL
	PRINTFORML  [ 0] \@ CONFIG("乳首肥大") ? ○ # ×\@ 乳首肥大
	PRINTFORML  [ 1] \@ CONFIG("陥没乳首") ? ○ # ×\@ 陥没乳首
	PRINTFORML  [ 2] \@ CONFIG("巨乳輪") ? ○ # ×\@ 巨乳輪
	PRINTFORML [100] これで良い

	CALL INPUT_SELECT, 3, 100

	SELECTCASE RESULT
	CASE 100
		REDRAW 1
		RETURN 0
	CASE 0 TO 3
		INVERTBIT FLAG:283, RESULT
	ENDSELECT
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
CASE "ボイス"
	PRINTFORM 現在の設定：
	IF FLAG:500 == 1
		PRINTFORML ロリ
	ELSEIF FLAG:500 == 2
		PRINTFORML 年増
	ELSEIF FLAG:500 == 3
		PRINTFORML 相手に応じて自動選択
	ELSE
		PRINTFORML 標準
	ENDIF
	PRINTL 声質を設定します
	PRINTL [0] 標準
	PRINTL [1] ロリ
	PRINTL [2] 年増
	PRINTL [3] 相手に応じて自動選択
	CALL INPUT_SELECT, 4
	FLAG:500 = RESULT
	IF RESULT == 0
		PRINT [標準]
	ELSEIF RESULT == 1
		PRINT [ロリ]
	ELSEIF RESULT == 2
		PRINT [年増]
	ELSEIF RESULT == 3
		PRINT [相手に応じて自動選択]
	ENDIF
	PRINTW に設定します
ENDSELECT

@NAME_CONVERT, P, M
#DIM LCOUNT

CALL SHOW_CHARA_LIST_PRE, "名前変更"
CALL SHOW_CHARA_LIST, "名前変更", P, M

$INPUT_LOOP
INPUT
IF RESULT == 100
	RETURN 0
ELSEIF RESULT == 2000 && CONFIG("世代別表示")
	M = 0
	P = 0
	RESTART
ELSEIF RESULT == 2001 && CONFIG("世代別表示")
	M += 1
	P = 0
	RESTART
ELSEIF RESULT == 2002 && CONFIG("世代別表示")
	M -= 1
	P = 0
	RESTART
ELSEIF RESULT >= 1001 && RESULT <= 1000+Q && CONFIG("表示人数") && Q >= 2 && P != RESULT - 1001
	P = RESULT - 1001
	RESTART
ELSEIF RESULT < MASTER || RESULT >= CHARANUM
	GOTO INPUT_LOOP
ENDIF

CALL NAME_CONVERT_MAIN, RESULT

RESTART

;選んだキャラはARGに格納されている
@NAME_CONVERT_MAIN, ARG
#DIM CHOICE
#DIMS MEMO_NAME
#DIMS MEMO_CALLNAME
#DIMS MEMO_CNAME
#DIMS MEMO_CNAME_KANA


;名前と呼び名を記録
MEMO_NAME = %NAME:ARG%
MEMO_CALLNAME = %CALLNAME:ARG%

PRINTL 
PRINTFORML %NAME:ARG%のどれを変更しますか？
PRINTFORML  [ 0] 名前（%NAME:ARG%）を変更　　　　（能力の表示など）
PRINTFORML  [ 1] 呼び名（%CALLNAME:ARG%）を変更　　　（99％以上はこちら）
;PRINTFORML  [ 2] ニックネームを変更（一部のキャラを除いて設定されていません。使われる場所も皆無）
IF ARG != MASTER
	PRINTFORML  [10] 主人と話すときの一人称（%CNAMET(ARG, "一人称")%、ふりがな：%CNAMET(ARG, "一人称", "かな")%）を変更
	PRINTFORML  [11] 主人と話すときの二人称（%CNAMET(ARG, "二人称")%、ふりがな：%CNAMET(ARG, "二人称", "かな")%）を変更
ENDIF
PRINTFORML [100] 変更しない

IF ARG != MASTER
	CALL INPUT_SELECT, 2, 10, 11, 100
ELSE
	CALL INPUT_SELECT, 2, 100
ENDIF

CHOICE = RESULT

SELECTCASE CHOICE
CASE 100
	PRINTFORMW キャラ選択画面に戻ります
	RETURN 0
CASE 0
	PRINTFORML %NAME:ARG%の名前を変更します
	PRINTFORML 全角８文字(半角なら16文字)以内で入力してください
	PRINTFORML 何も入力しない場合は変更しません。
	CALL INPUTS_SELECT, 16
CASE 1
	PRINTFORML %NAME:ARG%の呼び名「%CALLNAME:ARG%」を変更します
	PRINTFORML 全角８文字(半角なら16文字)以内で入力してください
	PRINTFORML 何も入力しない場合は変更しません。
	CALL INPUTS_SELECT, 16
CASE 10
	PRINTFORML %NAME:ARG%が、主人と話す際の一人称を変更します
	PRINTFORML 全角15文字(半角なら30文字)以内で入力してください
	PRINTL なお、"%CALLNAME:TARGET%ちゃん様"と呼ばせたいんだという場合には"CALLNAME_TARGETちゃん様"と入力してください
	PRINTFORML 何も入力しない場合は変更しません。
	CALL INPUTS_SELECT, 30
CASE 11
	PRINTFORML %NAME:ARG%が、主人と話す際の二人称を変更します
	PRINTFORML 全角15文字(半角なら30文字)以内で入力してください
	PRINTL なお、"%CALLNAME:MASTER%様"と呼ばせたいんだという場合には"CALLNAME_MASTER様"と入力してください
	PRINTFORML 何も入力しない場合は変更しません。
	CALL INPUTS_SELECT, 30
ENDSELECT

PRINTL 
SELECTCASE RESULTS
CASE ""
	PRINTFORMW 変更しませんでした
	RESTART
CASEELSE
	SELECTCASE CHOICE
	CASE 0
		IF RESULTS == MEMO_NAME
			PRINTFORMW 変更しませんでした
			RESTART
		ENDIF
		NAME:ARG = %RESULTS%
		PRINTFORMW 名前を%RESULTS%に変更しました
	CASE 1
		IF RESULTS == MEMO_CALLNAME
			PRINTFORMW 変更しませんでした
			RESTART
		ENDIF
		CALLNAME:ARG = %RESULTS%
		PRINTFORMW 呼び名を%RESULTS%に変更しました
	CASE 10
		IF RESULTS == CEVENTS("一人称主人", ARG)
			PRINTFORMW 変更しませんでした
			RESTART
		ENDIF

		MEMO_CNAME = 一人称主人：%RESULTS%
		MEMO_CNAME_KANA = 一人称主人かな：%RESULTS%

		;呼び名フラグリセット
		CALL DEL_CEVENT_GROUP_EX, "一人称主人", ARG
		CALL SET_CEVENT, MEMO_CNAME, ARG
		PRINTFORMW 主人と話す際の一人称を%CNAMET(ARG, "一人称")%に変更しました
		PRINTL 
		PRINTFORML 続けて、この一人称のふりがなを入力します。
		PRINTFORML （何も入力しない場合は%CNAMET(ARG, "一人称")%がふりがなとなります）
		PRINTL 
		PRINTFORML 全角30文字(半角なら60文字)以内で入力してください
		PRINTL 一人称に、"%CALLNAME:TARGET%ちゃん様"と入力したならば、同様に"CALLNAME_TARGETちゃんさま"と入力してください

		CALL INPUTS_SELECT, 60

		PRINTL 
		SIF RESULTS != ""
			MEMO_CNAME_KANA = 一人称主人かな：%RESULTS%

		CALL SET_CEVENT, MEMO_CNAME_KANA, ARG

		PRINTFORML 主人と話す際の一人称を%CNAMET(ARG, "一人称")%、
		PRINTFORMW そのふりがなを%CNAMET(ARG, "一人称", "かな")%に変更しました

		RESTART
	CASE 11
		IF RESULTS == CEVENTS("二人称主人", ARG)
			PRINTFORMW 変更しませんでした
			RESTART
		ENDIF

		MEMO_CNAME = 二人称主人：%RESULTS%
		MEMO_CNAME_KANA = 二人称主人かな：%RESULTS%

		;呼び名フラグリセット
		CALL DEL_CEVENT_GROUP_EX, "二人称主人", ARG
		CALL SET_CEVENT, MEMO_CNAME, ARG
		PRINTFORMW 主人と話す際の二人称を%CNAMET(ARG, "二人称")%に変更しました
		PRINTL 
		PRINTFORML 続けて、この二人称のふりがなを決めます。
		PRINTFORML （何も入力しない場合は%CNAMET(ARG, "二人称")%がふりがなとなります）
		PRINTL 
		PRINTFORML 全角30文字(半角なら60文字)以内で入力してください
		PRINTL 二人称に、"%CALLNAME:TARGET%ちゃん様"と入力したならば、同様に"CALLNAME_TARGETちゃんさま"と入力してください

		CALL INPUTS_SELECT, 60

		PRINTL 
		SIF RESULTS != ""
			MEMO_CNAME_KANA = 二人称主人かな：%RESULTS%

		CALL SET_CEVENT, MEMO_CNAME_KANA, ARG

		PRINTFORML 主人と話す際の二人称を%CNAMET(ARG, "二人称")%、
		PRINTFORMW そのふりがなを%CNAMET(ARG, "二人称", "かな")%に変更しました

		RESTART
	ENDSELECT
ENDSELECT

;名前を変えた
IF NAME:ARG != MEMO_NAME && CALLNAME:ARG != NAME:ARG
	PRINTFORML 続けて呼び名（%CALLNAME:ARG%）も変更しますか？
	PRINTFORML [ 0] はい
	PRINTFORML [ 1] いいえ
	PRINTFORML [ 2] 呼び名を名前（%NAME:ARG%）と同じにする
	CALL INPUT_SELECT, 3
	IF RESULT == 0
		PRINTFORML %NAME:ARG%の呼び名「%CALLNAME:ARG%」を変更します
		PRINTFORML 呼び名を入力してください。何も入力しない場合は変更しません。

		CALL INPUTS_SELECT, 16

		PRINTL 
		SELECTCASE RESULTS
		CASE "", MEMO_CALLNAME
			PRINTFORMW 変更しませんでした
		CASEELSE
			CALLNAME:ARG = %RESULTS%
			PRINTFORMW 呼び名を%RESULTS%に変更しました
		ENDSELECT
	ELSEIF RESULT == 2
		CALLNAME:ARG = %NAME:ARG%
		PRINTFORMW 呼び名を名前と同じ「%CALLNAME:ARG%」にしました
	ENDIF
ENDIF

;呼び名を変えた場合にはニックネームも変更
IF NICKNAME:ARG != "" && CALLNAME:ARG != MEMO_CALLNAME
	IF STRFIND(CALLNAME:ARG, "・") > 0 || STRFIND(CALLNAME:ARG, "＝") > 0
		NICKNAME:ARG = %SUBSTRING(CALLNAME:ARG, 0, MAX(STRFIND(CALLNAME:ARG, "・"), STRFIND(CALLNAME:ARG, "＝") ) - 1)%
	ELSEIF STRFIND(CALLNAME:ARG, " ") > 0
		NICKNAME:ARG = %SUBSTRING(CALLNAME:ARG, STRFIND(CALLNAME:ARG, " ") + 1, -1)%
	ELSEIF STRFIND(CALLNAME:ARG, " ") > 0 || STRFIND(CALLNAME:ARG, "　") > 0
		NICKNAME:ARG = %SUBSTRING(CALLNAME:ARG, STRFIND(CALLNAME:ARG, "　") + 2, -1)%
	ELSE
		NICKNAME:ARG = %CALLNAME:ARG%
	ENDIF
	PRINTFORMW 呼び名を%CALLNAME:ARG%に変更したので、ニックネームを%NICKNAME:ARG%としました
ENDIF

RESTART

;-------------------------------------------------
;キャラクターの並び替えを行う
;合わせて@SORT_CHARA, ARGSも参照すること
;-------------------------------------------------
@CHARA_SORT
#DIM LCOUNT
#DIM MEMO_LINECOUNT
#DIM CHOICE, 3
#DIMS CHOICES, 2

MEMO_LINECOUNT = LINECOUNT

REDRAW 0
PRINTL 
PRINTFORML キャラの並び替えを行います
PRINTFORML ２人の順番を入れ替えたい場合は続けて二人を選んでください
PRINTFORML また、好感度やキャラ番号などで一気に並び替えたい場合には[200]を選択してください

FOR LCOUNT, 2, CHARANUM
	CALL PRINT_NUM_NAME, "体力", LCOUNT
NEXT
PRINTL  [100]戻る　[200]一括ソート

$INPUT_LOOP
CALL INPUT_SELECT, CHARANUM, 100, 200

SELECTCASE RESULT
CASE 0, 1
	GOTO INPUT_LOOP
CASE 100
	REDRAW 1
	RETURN 0
CASE 200
	PRINTL 
	PRINTFORML どの要素で並び替えますか？
	PRINTFORML  [ 0] 加入した順番　　　　（これの昇順が初期の並びです）
	PRINTFORML  [ 1] キャラ番号　　　　　（召喚する時に表示される番号順です）
	PRINTFORML  [ 2] 好感度
	PRINTFORML  [ 3] 最後に相手した日付　（最近相手したキャラほど値が大きい）
	PRINTFORML  [ 4] ＬＶ
	PRINTFORML  [ 5] 評価ポイント　　　　（いわゆる売却価格順です）
	PRINTFORML  [ 6] 身長
	PRINTFORML  [ 7] 胸の大きさ
	PRINTFORML [100] 戻る

	CALL INPUT_SELECT, 8, 100

	CHOICE = RESULT

	SELECTCASE CHOICE
	CASE 100
		CLEARLINE LINECOUNT - MEMO_LINECOUNT
	CASEELSE
		SELECTCASE CHOICE
		CASE 0
			CHOICES = 加入順
		CASE 1
			CHOICES = キャラ番号
		CASE 2
			CHOICES = 好感度
		CASE 3
			CHOICES = 最後に相手した日付
		CASE 4
			CHOICES = ＬＶ
		CASE 5
			CHOICES = 評価ポイント
		CASE 6
			CHOICES = 身長
		CASE 7
			CHOICES = 胸の大きさ
		ENDSELECT

		PRINTL 選択された要素の大きい方と小さい方、どちらを上に持ってきますか？
		PRINTL [ 0] 小さい方（昇順）
		PRINTL [ 1] 大きい方（降順）

		CALL INPUT_SELECT, 2

		SELECTCASE RESULT
		CASE 0
			CHOICES:1 = 昇順
		CASE 1
			CHOICES:1 = 降順
		ENDSELECT

		CALL SORT_CHARA, CHOICES, CHOICES:1

		PRINTFORMW キャラ全員を[%CHOICES%]の[%CHOICES:1%]で並び替えました
		CLEARLINE LINECOUNT - MEMO_LINECOUNT
		;履歴を残してみる
		PRINTFORML キャラ全員を[%CHOICES%]の[%CHOICES:1%]で並び替えました
	ENDSELECT

	RESTART
ENDSELECT

CHOICE:1 = RESULT
CLEARLINE LINECOUNT - MEMO_LINECOUNT
MEMO_LINECOUNT = LINECOUNT

PRINTL 
PRINTFORML 順番を入れ替える一人目に[{CHOICE:1, 2}]%CALLNAME:(CHOICE:1)%を選択しました
PRINTL 
PRINTFORML もう一人選んでください

FOR LCOUNT, 2, CHARANUM
	SIF LCOUNT == CHOICE:1
		SETCOLOR DEF_COLOR("黄色")

	CALL PRINT_NUM_NAME, "体力", LCOUNT

	RESETCOLOR
NEXT
PRINTL  [100]戻る

$INPUT_LOOP_2
CALL INPUT_SELECT, CHARANUM, 100

SELECTCASE RESULT
CASE 0, 1, CHOICE:1
	GOTO INPUT_LOOP_2
CASE 100
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
ENDSELECT

CHOICE:2 = RESULT

PRINTFORMW [{CHOICE:1, 2}]%CALLNAME:(CHOICE:1)%と[{CHOICE:2, 2}]%CALLNAME:(CHOICE:2)%の順番を入れ替えました

CLEARLINE LINECOUNT - MEMO_LINECOUNT
;履歴を残してみる
PRINTFORML [{CHOICE:1, 2}]%CALLNAME:(CHOICE:1)%と[{CHOICE:2, 2}]%CALLNAME:(CHOICE:2)%の順番を入れ替えました

CALL SWAP_CHARA, CHOICE:1, CHOICE:2

RESTART

