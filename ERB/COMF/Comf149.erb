@COM149
;カテーテル
CALL PRINT_TRAIN_NAME(SELECTCOM)

;-------------------------------------------------
;実行できるかの判定
;-------------------------------------------------
CALL SHOW_COM_ORDER_COM, 149

;実行できない
SIF TCVAR:28 == 0
	RETURN 0
;-------------------------------------------------
;実行決定
;-------------------------------------------------
CALL TRAIN_MESSAGE_B

SIF REFUSE_CHECK()
	RETURN 0

STR:0 = %STR:2%

RETURN 1

@FLAG_COM149, ARG
;尿の汚れ発生
IF PENIS(TARGET)
	STAIN:Ｐ = SET_STAIN(STAIN:Ｐ, "尿")
ELSE
	STAIN:Ｖ = SET_STAIN(STAIN:Ｖ, "尿")
ENDIF
;利尿剤の効果は消失
TEQUIP:利尿剤 = 0
;自分から放尿したので、最後まで出し切ります
BASE:尿意 = 0
;パンツをずらす
SIF !CHECK_CLO("Ｖ露出") && INSERT("インサート") == 0
	CALL SETFLAG, "ボトムを露出：テキスト無し", TARGET
;放尿
EXP:放尿経験 += 1
NOWEX:放尿 += 1
EX:放尿 += 1

@SOURCE_COM149, ARG
VARSET LOCAL

LOCAL:20 += 50
LOCAL:21 += 200

IF PENIS(TARGET)
	LOCAL:6 = 3000
	LOCAL:9 = 2000
ELSE
	LOCAL:6 = 1000
	LOCAL:9 = 500
ENDIF

LOCAL:8 = 1000
LOCAL:12 = 2000
LOCAL:14 = 1500

;PALAM:欲情をみる
SELECTCASE PALAM:欲情
CASE IS < PALAMLV:1
	TIMES LOCAL:14, 1.50
CASE IS < PALAMLV:2
	TIMES LOCAL:14, 1.00
CASE IS < PALAMLV:3
	TIMES LOCAL:14, 0.90
CASE IS < PALAMLV:4
	TIMES LOCAL:14, 0.70
CASE IS >= PALAMLV:4
	TIMES LOCAL:14, 0.50
ENDSELECT

;露出癖をみる
SELECTCASE ABL:露出癖
CASE 0
	LOCAL:13 = 6000
CASE 1
	LOCAL:13 = 5000
CASE 2
	LOCAL:13 = 4000
CASE 3
	LOCAL:13 = 3000
CASE 4
	LOCAL:13 = 2000
CASEELSE
	LOCAL:13 = 1000
ENDSELECT

;ABL:マゾっ気をみる
SELECTCASE ABL:マゾっ気
CASE 0
	TIMES LOCAL:3, 0.80
	TIMES LOCAL:12, 0.80
	LOCAL:11 = 100
CASE 1
	TIMES LOCAL:3, 1.00
	TIMES LOCAL:12, 1.00
	LOCAL:11 = 300
CASE 2
	TIMES LOCAL:3, 1.30
	TIMES LOCAL:12, 1.20
	LOCAL:11 = 700
CASE 3
	TIMES LOCAL:3, 1.40
	TIMES LOCAL:12, 1.40
	LOCAL:11 = 1200
CASE 4
	TIMES LOCAL:3, 1.70
	TIMES LOCAL:12, 1.50
	LOCAL:11 = 1800
CASEELSE
	TIMES LOCAL:3, 2.00
	TIMES LOCAL:12, 1.70
	LOCAL:11 = 2500
ENDSELECT

;場所をみる
IF TEQUIP:館内露出プレイ || TEQUIP:野外プレイ
	TIMES LOCAL:14, 2.50
	TIMES LOCAL:12, 1.50
ELSEIF TEQUIP:羞恥プレイ
	TIMES LOCAL:14, 1.50
	TIMES LOCAL:12, 1.20
ELSEIF TEQUIP:お風呂プレイ
	TIMES LOCAL:14, 0.50
ENDIF

SELECTCASE EXP:放尿経験 + EXP:お漏らし経験
CASE IS < EXPLV:1
	TIMES LOCAL:14, 3.00
CASE IS < EXPLV:2
	TIMES LOCAL:14, 2.50
CASE IS < EXPLV:3
	TIMES LOCAL:14, 2.00
CASE IS < EXPLV:4
	TIMES LOCAL:14, 1.00
CASE IS < EXPLV:5
	TIMES LOCAL:14, 0.80
CASEELSE
	TIMES LOCAL:14, 0.60
ENDSELECT

SELECTCASE EXP:尿道経験 + MIN(EXP:PLAYER:尿道責め経験, 50)
CASE IS < 5
CASE IS < 20
	TIMES LOCAL:6, 0.70
CASE IS < 50
	TIMES LOCAL:6, 0.50
CASE IS < 150
	TIMES LOCAL:6, 0.20
CASE IS < 300
	TIMES LOCAL:6, 0.05
CASEELSE
	TIMES LOCAL:6, 0.00
ENDSELECT

IF TALENT:尿道性感
	TIMES LOCAL:6, 0.50
	TIMES LOCAL:9, 0.50
	TIMES LOCAL:11, 2.00
ENDIF

;筋弛緩剤
SIF GETBIT(TEQUIP:筋弛緩剤, 1)
	TIMES LOCAL:6, 0.20

CALL CALC, "調教ソース", LOCAL:0, LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:4, LOCAL:5, LOCAL:6, LOCAL:7, LOCAL:8, LOCAL:9, LOCAL:10, LOCAL:11, LOCAL:12, LOCAL:13, LOCAL:14, LOCAL:15, LOCAL:16, LOCAL:17, LOCAL:18, LOCAL:19, LOCAL:20, LOCAL:21, ARG


@TRAIN_MESSAGE_COM149
INVERTBIT TEQUIP:カテーテル, 0
IF TEQUIP:カテーテル
	IF PENIS(TARGET)
		PRINTFORMW %CALLNAME:TARGET%のペニスを掴んで尿道口を指で広げると、潤滑用のゼリーを塗ったカテーテルをゆっくりと挿入していった
		PRINTFORML …
		PRINTFORML ……
		PRINTFORML ………
		PRINTFORMW 約20cmは差し込んだだろうか？
	ELSE
		PRINTFORMW %CALLNAME:TARGET%の尿道口を露出させて、潤滑用のゼリーを塗ったカテーテルをゆっくりと挿入した
	ENDIF
	PRINTFORMW 先端が膀胱へと到達すると、挿入する際の抵抗が少なくなると共に管から尿がジョロロロ…と流れ出てくる…
ELSE
	PRINTFORMW %CALLNAME:TARGET%の尿道からカテーテルを慎重に引き抜いた…
ENDIF

@EQUIP_COM12
CALL SOURCE_COM149, 10
RETURN 1

@EQUIP_COM12_2
PRINTL ＜カテーテル挿入中＞
IF BASE:尿意 >= 1000 || (BASE:尿意 >= 100 && RAND:4 == 0)
	IF INSERT("インサート")
		SELECTCASE CONDS("体位")
		CASE "後背位"
			PRINTFORML 尿道に差し込まれた管からは、ポタッ…ポタッ……とおしっこが垂れ流されている…
		CASEELSE
			PRINTFORML 尿道に差し込まれた管からは、ちょろちょろとおしっこが押し出されて流れている…
		ENDSELECT
	ELSE
		PRINTFORML 尿道に差し込まれた管からは、ポタッ…ポタッ……とおしっこが垂れ流されている…
	ENDIF
	;尿の汚れ発生
	IF PENIS(TARGET)
		STAIN:Ｐ = SET_STAIN(STAIN:Ｐ, "尿")
	ELSE
		STAIN:Ｖ = SET_STAIN(STAIN:Ｖ, "尿")
	ENDIF
	BASE:尿意 = 0
ENDIF
EXP:緊縛経験 += 1
PRINTL 緊縛経験＋１

RETURN 1


@COM_ORDER_COM149, ARG
VARSET LOCAL
LOCALS = 

;すべての命令に共通の要素を考慮
;(従順が高いと命令に従いやすいなど)
CALL COM_ORDER, ARG

LOCAL = RESULT

;ABL:露出癖
IF ABL:露出癖
	LOCAL += ABL:露出癖 * 4
	LOCALS = %LOCALS% + %ABLNAME:7%LV{ABL:露出癖}({ABL:露出癖 * 4})
ENDIF
;ABL:マゾっ気
IF ABL:マゾっ気
	LOCAL += ABL:マゾっ気 * 3
	LOCALS = %LOCALS% + %ABLNAME:8%LV{ABL:マゾっ気}({ABL:マゾっ気 * 3})
ENDIF
;自制心
IF TALENT:冷静
	LOCAL -= 5
	LOCALS = %LOCALS% - %TALENTNAME:20%(5)
ENDIF
;恥じらい
IF TALENT:恥じらい
	LOCAL -= 15
	LOCALS = %LOCALS% - %TALENTNAME:35%(15)
ENDIF
;恥薄い
IF TALENT:恥薄い
	LOCAL += 2
	LOCALS = %LOCALS% + %TALENTNAME:36%(2)
ENDIF
;清楚
IF TALENT:清楚
	LOCAL -= 10
	LOCALS = %LOCALS% - %TALENTNAME:39%(10)
ENDIF
;快感に素直
IF TALENT:快感に素直
	LOCAL += 5
	LOCALS = %LOCALS% + %TALENTNAME:70%(5)
ENDIF
;快感の否定
IF TALENT:快感の否定
	LOCAL -= 5
	LOCALS = %LOCALS% - %TALENTNAME:71%(5)
ENDIF
;倒錯的
IF TALENT:倒錯的
	LOCAL += 10
	LOCALS = %LOCALS% + %TALENTNAME:80%(10)
ENDIF
IF TEQUIP:拘束
	LOCAL += 30
	LOCALS = %LOCALS% + 拘束中(30)
ENDIF
;媚薬
IF TEQUIP:媚薬
	LOCAL += 2
	LOCALS = %LOCALS% + %ITEMNAME:31%(2)
ENDIF
;ビデオ撮影
IF TEQUIP:ビデオカメラ
	LOCAL -= 20
	LOCALS = %LOCALS% - 撮影中(20)
ENDIF
;野外or館内露出
IF TEQUIP:野外プレイ
	LOCAL -= 10
	LOCALS = %LOCALS% - 野外プレイ(10)
ELSEIF TEQUIP:館内露出プレイ
	LOCAL -= 10
	LOCALS = %LOCALS% - 館内露出(10)
ENDIF

;合計を表示(60以上で実行)
CALL PRINT_COM_ORDER_COM, LOCALS, ARG, LOCAL, 50

RETURN RESULT
