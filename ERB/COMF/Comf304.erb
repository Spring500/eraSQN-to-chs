@COM304
;竜姦コマンド
;ドラグーン助手時の専用コマンド。フィスト系コマンドの亜種としてデザイン。
;ドラゴンの射精ゲージは技巧・欲情依存。
;実際には苦痛があるためもっと体力気力をもっていかれる

LOCALS = \@ TEQUIP:推到 ? 逆 # \@ドラ姦
PRINTFORML %LOCALS%

CALL TRAIN_MESSAGE_B

SIF REFUSE_CHECK()
	RETURN 0

STR:0 = %LOCALS%

;-------------------------------------------------
;押し倒されているなら射精チェック
;-------------------------------------------------
SIF TEQUIP:推到
	CALL SAMEN_CHECK

RETURN 1

@FLAG_COM304, ARG
SIF TEQUIP:推到 == 0
	CALL FLAG_INSERTION, "Ｖドラ姦", ARG, 100


@SOURCE_COM304, ARG
IF TEQUIP:推到 == 0
	CALL SOURCE_INSERTION, "Ｖドラ姦", ARG, 100
	RETURN 1
ENDIF

;逆ドラ姦
VARSET LOCAL

LOCAL:20 += 0
LOCAL:21 += 100

LOCAL:12 = 1500
LOCAL:16 = 1000

;ABL:欲望をみる
SELECTCASE ABL:欲望
CASE 0
	LOCAL:11 = 3200
CASE 1
	LOCAL:11 = 3800
CASE 2
	LOCAL:11 = 4600
CASE 3
	LOCAL:11 = 5400
CASE 4
	LOCAL:11 = 6200
CASEELSE
	LOCAL:11 = 7000
ENDSELECT

;調教者が処女
IF TALENT:PLAYER:处女 == 1
	TIMES LOCAL:11 , 3.00
ENDIF

CALL CALC, "調教ソース", LOCAL:0, LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:4, LOCAL:5, LOCAL:6, LOCAL:7, LOCAL:8, LOCAL:9, LOCAL:10, LOCAL:11, LOCAL:12, LOCAL:13, LOCAL:14, LOCAL:15, LOCAL:16, LOCAL:17, LOCAL:18, LOCAL:19, LOCAL:20, LOCAL:21, ARG


@TRAIN_MESSAGE_COM304
CALL DRAKAN_TEXT

@DRAKAN_TEXT
;-------------------------------------------------
;条件設定
;-------------------------------------------------
;TEQUIP:推到 > 0 なら逆ドラ姦
SIF TEQUIP:推到 + TEQUIP:PLAYER:推到
	SWAP PLAYER, TARGET

IF SELECTCOM == 305
	LOCAL = ABL:Ａ扩张
ELSE
	LOCAL = ABL:Ｖ扩张
ENDIF

;アソコを露出させる
SIF CHECK_CLO("Ｖ露出") == 0
	CALL SETFLAG, "ボトムを露出：テキスト無し", TARGET

PRINTFORMW %CALLNAME:PLAYER%が指笛を鳴らすと、ドラゴンは軽く唸りを上げて%CALLNAME:TARGET%に歩み寄る…
PRINTFORM そして、重量感のある巨体で
;経験そのものが無し
IF SELECTCOM == 304 && TALENT:处女 == 1
	IF TALENT:胆怯
		PRINTFORM 泣き叫びながら%CALLNAME:PLAYER%に押さえつけられている
	ELSEIF TALENT:叛逆
		PRINTFORM 力の限りの抵抗をしている
	ELSE
		PRINTFORM 顔を真っ青にして逃げようとしている
	ENDIF
ELSEIF CHECK("竜姦")
	IF LOCAL > SIZE("龙")
		PRINTFORM 期待に満ち震える
	ELSE
		PRINTFORM 顔に期待の色を浮かべる
	ENDIF
ELSE
	IF TALENT:胆怯
		PRINTFORM 泣いて嫌がっている
	ELSEIF TALENT:叛逆
		PRINTFORM %CALLNAME:PLAYER%を睨みつけている
	ELSE
		PRINTFORM 怯えている
	ENDIF
ENDIF
PRINTFORMW %CALLNAME:TARGET%を押し倒し、長大なペニスを股間にあてがった…

;ドラ姦開始前口上
TFLAG:16 = 1
CALL KOJO_MESSAGE_COM
TFLAG:16 = 0

PRINT ドラゴンの
;乱数分岐
IF RAND:4 == 0
	PRINT 尋常ならざる大きさのペニスが
ELSEIF RAND:3 == 0
	PRINT ごつごつしたペニスが
ELSEIF RAND:2 == 0
	PRINT 焼けるように熱いペニスが
ELSE
	PRINT ビクビクと脈打っているペニスが
ENDIF

;Ａドラ姦
IF SELECTCOM == 305
	IF CHECK("竜姦") == 0
		IF RAND:4 == 0
			PRINT 尻穴へと容赦なく侵入し、
		ELSEIF RAND:3 == 0
			PRINT 腸壁を圧迫しながら侵入し
		ELSEIF RAND:2 == 0
			PRINT 未だ経験したことのない深いところまで突き入れられ、
		ELSE
			PRINT 腸壁を限界まで拡げ、
		ENDIF
		IF RAND:4 == 0
			PRINTFORMW 勢い良く噴き出る先走り汁が腸内をたぷたぷに満たす。
		ELSEIF RAND:3 == 0
			PRINTFORMW 肛門からは先走り汁が淫猥な音を立てて噴き出している。
		ELSEIF RAND:2 == 0
			PRINTFORMW %CALLNAME:TARGET%は獣のような声を上げて激しく身をくねらせる。
		ELSE
			PRINTFORMW %CALLNAME:TARGET%は声にならない悲鳴を漏らす。
		ENDIF
	ELSEIF LOCAL > SIZE("龙")
		IF RAND:3 == 0
			PRINT 柔軟な尻穴へと遠慮なく侵入し、
		ELSEIF RAND:2 == 0
			PRINT 易々と広がる腸壁に包まれながら侵入し、
		ELSE
			PRINT 蠢く腸に奥深くまで引きずり込まれ、
		ENDIF
		IF RAND:3 == 0
			PRINTFORMW 肛門からは愛液と先走りの混合汁が淫猥な音を立てて噴き出している。
		ELSEIF RAND:2 == 0
			PRINTFORMW %CALLNAME:TARGET%は自らも獣となって腰を動かしている。
		ELSE
			PRINTFORMW %CALLNAME:TARGET%は衝撃に悦んで身を躍らせた。
		ENDIF
	ELSE
		IF RAND:4 == 0
			PRINT ほぐれてきた尻穴へと容赦なく侵入し、
		ELSEIF RAND:3 == 0
			PRINT 腸壁を圧し開きながら侵入し、
		ELSEIF RAND:2 == 0
			PRINT 腸の奥深くまで迎え入れられ、
		ELSE
			PRINT 馴染みはじめた腸壁を限界まで拡げ、
		ENDIF
		IF RAND:4 == 0
			PRINTFORMW 勢い良く噴き出る先走り汁が腸内をたぷたぷに満たす。
		ELSEIF RAND:3 == 0
			PRINTFORMW 肛門からは愛液と混じり合った先走り汁が淫猥な音を立てて噴き出している。
		ELSEIF RAND:2 == 0
			PRINTFORMW %CALLNAME:TARGET%は獣のような嬌声を上げて激しく身をくねらせる。
		ELSE
			PRINTFORMW %CALLNAME:TARGET%は歓喜の声をあげる。
		ENDIF
	ENDIF
	
	IF RAND:2 == 0
		PRINTFORM ピストンのストロークは徐々に大きくなり、%CALLNAME:TARGET%は
		IF CHECK("竜姦") == 0
			PRINTFORMW 腹の底を蹂躙される感覚に身をよじらせた…
		ELSEIF LOCAL > SIZE("龙") && RAND:2
			PRINTFORMW 腹の底を蹂躙される悦びに打ち震えた…
		ELSE
			PRINTFORMW 腹の底を蹂躙される感覚に身を震わせた…
		ENDIF
	ELSE
		PRINTFORM ピストンのペースは徐々に速くなり、%CALLNAME:TARGET%は
		IF CHECK("竜姦") == 0
			PRINTFORMW 腸壁を削られる感覚に身をよじらせた…
		ELSEIF LOCAL > SIZE("龙") && RAND:2
			PRINTFORMW 腸壁を抉られる快楽に悦び打ち震えた…
		ELSE
			PRINTFORMW 腸壁を削られる感覚に身を震わせた…
		ENDIF
	ENDIF
ELSE
	;Ｖ経験そのものが無し
	IF TALENT:处女 == 1
		IF RAND:4 == 0
			PRINT オトコを知らない膣内を容赦なく蹂躙し、
		ELSEIF RAND:3 == 0
			PRINT 経験のない膣内へとズボリズボリと激しく出し入れされ、
		ELSEIF RAND:2 == 0
			PRINT 何者も受け入れたことのない膣の奥深くまで突き入れられ、
		ELSE
			PRINT 生娘の膣全体を犯し尽くし、
		ENDIF
		IF RAND:4 == 0
			PRINTFORMW 勢い良く噴き出る先走り汁が子宮まで穢そうとする。
		ELSEIF RAND:3 == 0
			PRINTFORMW 結合部からは真っ赤になった先走り汁が淫猥な音を立てて噴き出している。
		ELSEIF RAND:2 == 0
			PRINTFORMW %CALLNAME:TARGET%は激しく身を歪ませて獣のような声で絶叫する。
		ELSE
			PRINTFORMW %CALLNAME:TARGET%は声にならない悲鳴を上げる。
		ENDIF
	ELSEIF CHECK("竜姦") == 0
		IF RAND:4 == 0
			PRINT 膣内へと容赦なく叩き込まれ、
		ELSEIF RAND:3 == 0
			PRINT 膣内へとズボズボと激しく出し入れされ、
		ELSEIF RAND:2 == 0
			PRINT 膣の奥深くまで突き入れられ、
		ELSE
			PRINT 膣全体を犯し、
		ENDIF
		IF RAND:4 == 0
			PRINTFORMW 勢い良く噴き出る先走り汁が子宮口をノックする。
		ELSEIF RAND:3 == 0
			PRINTFORMW 結合部からは先走り汁が淫猥な音を立てて噴き出している。
		ELSEIF RAND:2 == 0
			PRINTFORMW %CALLNAME:TARGET%は獣のような声を上げて激しく身をくねらせる。
		ELSE
			PRINTFORMW %CALLNAME:TARGET%は声にならない悲鳴を漏らす。
		ENDIF
	ELSEIF LOCAL > SIZE("龙")
		IF RAND:4 == 0
			PRINT 柔軟な膣内へと遠慮なく叩き込まれ、
		ELSEIF RAND:3 == 0
			PRINT 易々と広がる膣内へとズボズボと激しく出し入れされ、
		ELSEIF RAND:2 == 0
			PRINT 蠢く膣に奥深くまで引きずり込まれ、
		ELSE
			PRINT しとどに濡れた膣全体を犯し、
		ENDIF
		IF RAND:3 == 0
			PRINTFORMW 結合部からは愛液と先走りの混合汁が淫猥な音を立てて噴き出している。
		ELSEIF RAND:2 == 0
			PRINTFORMW %CALLNAME:TARGET%は自らも獣となって腰を動かしている。
		ELSE
			PRINTFORMW %CALLNAME:TARGET%は衝撃に悦んで身を躍らせた。
		ENDIF
	ELSE
		IF RAND:4 == 0
			PRINT ほぐれてきた膣内へと容赦なく叩き込まれ、
		ELSEIF RAND:3 == 0
			PRINT 引っ掛かりなく膣内へとズボズボと激しく出し入れされ、
		ELSEIF RAND:2 == 0
			PRINT 膣の奥深くまで迎え入れられ、
		ELSE
			PRINT 馴染みはじめた膣全体を犯し、
		ENDIF
		IF RAND:4 == 0
			PRINTFORMW 勢い良く噴き出る先走り汁が子宮口をノックする。
		ELSEIF RAND:3 == 0
			PRINTFORMW 結合部からは愛液と混じり合った先走り汁が淫猥な音を立てて噴き出している。
		ELSEIF RAND:2 == 0
			PRINTFORMW %CALLNAME:TARGET%は獣のような嬌声を上げて激しく身をくねらせる。
		ELSE
			PRINTFORMW %CALLNAME:TARGET%は歓喜の声をあげる。
		ENDIF
	ENDIF

	IF RAND:2 == 0
		PRINTFORM ピストンのストロークは徐々に大きくなり、%CALLNAME:TARGET%は
		IF TALENT:处女 == 1
			PRINTFORMW 身を引き裂かれる感覚に地獄をみた。
		ELSEIF CHECK("竜姦") == 0
			PRINTFORMW 子宮の天井を蹂躙される感覚に身をよじらせた…
		ELSEIF LOCAL > SIZE("龙") && RAND:2
			PRINTFORMW 子宮の天井を蹂躙される悦びに打ち震えた…
		ELSE
			PRINTFORMW 子宮の天井を蹂躙される感覚に身を震わせた…
		ENDIF
	ELSE
		PRINTFORM ピストンのペースは徐々に速くなり、%CALLNAME:TARGET%は
		IF TALENT:处女 == 1
			PRINTFORMW 限界を超えた激痛に死を覚悟した…
		ELSEIF CHECK("竜姦") == 0
			PRINTFORMW 膣壁を削られる感覚に身をよじらせた…
		ELSEIF LOCAL > SIZE("龙") && RAND:2
			PRINTFORMW 膣壁を抉られる快楽に深く犯された…
		ELSE
			PRINTFORMW 膣壁を削られる感覚に身を震わせた…
		ENDIF
	ENDIF
ENDIF

SIF TEQUIP:推到 + TEQUIP:PLAYER:推到
	SWAP PLAYER, TARGET

@DRAGON_SHOOT
SIF MAXBASE:MASTER:龙 == 0
	RETURN 0
SIF SELECTCOM != 304 && SELECTCOM != 305
	RETURN 0
;-------------------------------------------------
;条件設定
;-------------------------------------------------
;TEQUIP:推到 > 0 なら逆ドラ姦
SIF TEQUIP:推到 + TEQUIP:PLAYER:推到
	SWAP PLAYER, TARGET

IF SELECTCOM == 305
	LOCAL = ABL:Ａ扩张
	LOCAL:1 = ABL:Ａ名器度
ELSE
	LOCAL = ABL:Ｖ扩张
	LOCAL:1 = ABL:Ｖ名器度
ENDIF

;-------------------------------------------------
;ドラゴン射精チェック
;-------------------------------------------------
LOCAL:2 = 0
;ドラゴンに犯されている側のABL:技巧をみる
IF ABL:技巧 == 0
	LOCAL:2 = 5000
ELSEIF ABL:技巧 == 1
	LOCAL:2 = 6000
ELSEIF ABL:技巧 == 2
	LOCAL:2 = 8000
ELSEIF ABL:技巧 == 3
	LOCAL:2 = 10000
ELSEIF ABL:技巧 == 4
	LOCAL:2 = 14000
ELSE
	LOCAL:2 = 20000
ENDIF

;ドラゴンに犯されている側の穴の拡張LVをみる
SELECTCASE LOCAL
CASE 0
	TIMES LOCAL:2 , 0.30
CASE 1
	TIMES LOCAL:2 , 0.50
CASE 2
	TIMES LOCAL:2 , 0.80
CASE 3
	TIMES LOCAL:2 , 1.00
CASE 4
	TIMES LOCAL:2 , 1.50
CASE 5
	TIMES LOCAL:2 , 2.00
CASEELSE
	TIMES LOCAL:2 , 3.00
ENDSELECT

;ドラゴンに犯されている側の穴の名器度をみる
SELECTCASE LOCAL:1
CASE 0
	TIMES LOCAL:2 , 1.00
CASE IS < 5
	TIMES LOCAL:2 , 1.20
CASE IS < 20
	TIMES LOCAL:2 , 1.40
CASE IS < 50
	TIMES LOCAL:2 , 1.60
CASE IS < 150
	TIMES LOCAL:2 , 2.00
CASE IS < 300
	TIMES LOCAL:2 , 2.50
CASEELSE
	TIMES LOCAL:2 , 3.00
ENDSELECT

BASE:MASTER:龙 += LOCAL:2 + RAND:100 * 100 + RAND:100

SELECTCASE BASE:MASTER:龙
CASE IS >= MAXBASE:MASTER:龙 * 4
	TFLAG:9 = 4
CASE IS >= MAXBASE:MASTER:龙 * 3
	TFLAG:9 = 3
CASE IS >= MAXBASE:MASTER:龙 * 2
	TFLAG:9 = 2
CASE IS >= MAXBASE:MASTER:龙
	TFLAG:9 = 1
CASEELSE
	TFLAG:9 = 0
	SIF TEQUIP:推到 + TEQUIP:PLAYER:推到
		SWAP PLAYER, TARGET
	RETURN 0
ENDSELECT

;-------------------------------------------------
;ドラゴン射精処理＆テキスト
;-------------------------------------------------
SELECTCASE TFLAG:9
;ドラゴン大量射精
CASE IS >= 2
	PRINTL ドラゴン大量射精
	IF RAND:3 == 0
		PRINTL 『ビュビューッ、ブビュビューッ、ビュルッ、ビューッ』
	ELSEIF RAND:2 == 0
		PRINTL 『ぶじゅ、ぐじゅ、ぐじゅぅっ！びぢゃぁっ！』
	ELSE
		PRINTL 『びゅるるっ、びゅるびゅるっ、ぶびゅーっ！』
	ENDIF
	IF SELECTCOM == 305
		IF RAND:4 == 0
			PRINTFORML 数秒おきに大量の精液が注ぎ込まれ%CALLNAME:TARGET%の下腹部がパンパンに膨れ上がった…
		ELSEIF RAND:3 == 0
			PRINTFORML 腸内に熱い精液をとめどなく注ぎ込まれ、%CALLNAME:TARGET%は異物感に悶えている…
		ELSEIF RAND:2 == 0
			PRINTFORML 精液の奔流に腸壁を激しく擦り上げられ、%CALLNAME:TARGET%は身体を仰け反らせる…
		ELSE
			PRINTFORML 肛門からペニスが抜かれるとゲル状の濃厚な精液が勢いよく噴き出した…
		ENDIF
	ELSE
		IF RAND:4 == 0
			PRINTFORML 数秒おきに大量の精液が注ぎ込まれ%CALLNAME:TARGET%の下腹部がパンパンに膨れ上がった…
		ELSEIF RAND:3 == 0
			PRINTFORML %CALLNAME:TARGET%の子宮めがけて精液がとめどなく注ぎ込まれた…
		ELSEIF RAND:2 == 0
			PRINTFORML 精液の奔流に膣壁を激しく擦り上げられ、%CALLNAME:TARGET%は身体を仰け反らせる…
		ELSE
			PRINTFORML 膣口からペニスが抜かれるとゲル状の濃厚な精液が勢いよく噴き出した…
		ENDIF
	ENDIF
;ドラゴン通常の射精
CASEELSE
	PRINTL ドラゴン射精
	IF RAND:3 == 0
		PRINTL 『ビュルビュルッ、ビューッ』
	ELSEIF RAND:2 == 0
		PRINTL 『どぷどぷっ、どぷぅっ！』
	ELSE
		PRINTL 『びゅく、びゅくっ！ごぷぅっ！』
	ENDIF
	IF SELECTCOM == 305
		IF RAND:4 == 0
			PRINTFORML 注がれた大量の子種汁によって%CALLNAME:TARGET%の下腹部がパンパンに膨れ上がった…
		ELSEIF RAND:3 == 0
			PRINTFORML %CALLNAME:TARGET%の腸内は熱い精液で満たされた…
		ELSEIF RAND:2 == 0
			PRINTFORML 射精の勢いはまったく衰える様子を見せず、数分間にわたって精液が注ぎ込まれた…
		ELSE
			PRINTFORML 肛門からペニスが抜かれると黄ばんだ精液が淫猥な音を立てて噴き出した…
		ENDIF
	ELSE
		IF RAND:4 == 0
			PRINTFORML 注がれた大量の子種汁によって%CALLNAME:TARGET%の下腹部がパンパンに膨れ上がった…
		ELSEIF RAND:3 == 0
			PRINTFORML %CALLNAME:TARGET%の子宮は子種汁で満たされた…
		ELSEIF RAND:2 == 0
			PRINTFORML 射精の勢いはまったく衰える様子を見せず、数分間にわたって精液が注ぎ込まれた…
		ELSE
			PRINTFORML 膣口からペニスが抜かれると黄ばんだ精液が淫猥な音を立てて噴き出した…
		ENDIF
	ENDIF
ENDSELECT

EXP:精液经验 += TFLAG:9*20
PRINTFORML 精液経験＋{TFLAG:9*20}\@ TEQUIP:推到 + TEQUIP:PLAYER:推到 ? (調教者) # \@

BASE:MASTER:龙 = LIMIT(BASE:MASTER:龙 - MAXBASE:MASTER:龙, 0, MAXBASE:MASTER:龙 - 1)

;精液汚れ＆ドラ姦で妊娠
IF SELECTCOM == 304
	CALL SETFLAG, "膣内精液経験", TFLAG:9, TARGET, -3
ELSE
	CALL SETFLAG, "肛内精液経験", TFLAG:9, TARGET, -3
ENDIF

SIF TEQUIP:推到 + TEQUIP:PLAYER:推到
	SWAP PLAYER, TARGET

PRINTFORML 

