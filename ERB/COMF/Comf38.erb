@COM38
;シャワー

PRINTL シャワー

CALL TRAIN_MESSAGE_B

SIF REFUSE_CHECK()
	RETURN 0

STR:0 = シャワー

RETURN 1

@FLAG_COM38, ARG
;シャワーで汚れがリセット
CALL RESET_STAIN_EX, "全部", PLAYER
CALL RESET_STAIN_EX, "全部", TARGET
;潤滑が半分に
PALAM:Ｖ潤 /= 2
PALAM:Ａ潤 /= 2
PALAM:Ｐ潤 /= 2

@SOURCE_COM38, ARG
VARSET LOCAL

LOCAL:20 += 0
LOCAL:21 += 10

LOCAL:3 = ABL:侍奉精神*20
LOCAL:5 = 400
LOCAL:12 = 50
LOCAL:14 = 50
LOCAL:16 = 200

;吸血鬼の場合
IF TALENT:吸血鬼
	LOCAL:6 = 500
	LOCAL:15 = 1000
	TIMES LOCAL:6 , 1.60
	TIMES LOCAL:13 , 2.00
ENDIF

;動物耳の場合
IF TALENT:兽耳
	LOCAL:15 = 300
	TIMES LOCAL:14 , 1.60
	TIMES LOCAL:13 , 1.50
ENDIF

CALL CALC, "調教ソース", LOCAL:0, LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:4, LOCAL:5, LOCAL:6, LOCAL:7, LOCAL:8, LOCAL:9, LOCAL:10, LOCAL:11, LOCAL:12, LOCAL:13, LOCAL:14, LOCAL:15, LOCAL:16, LOCAL:17, LOCAL:18, LOCAL:19, LOCAL:20, LOCAL:21, ARG


@TRAIN_MESSAGE_COM38
;シャワーの開始と終了
IF TEQUIP:シャワー
	TEQUIP:シャワー = 0
	PRINTFORMW %CALLNAME:TARGET%にシャワーを止めさせた
ELSE
	TEQUIP:シャワー = 1
	PRINTFORMW %CALLNAME:TARGET%にシャワーを浴びさせた
ENDIF


@EQUIP_COM18
CALL SOURCE_COM38, 30
CALL FLAG_COM38, 30
RETURN 1

@EQUIP_COM18_2
;シャワー使用中
PRINTL ＜シャワー使用中＞

RETURN 1
